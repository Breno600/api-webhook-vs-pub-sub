Exec using JSCH
Connecting to 10.218.238.144 ....
Connection to 10.218.238.144 established
Executing command ...
export GIT_TAG=DEV000011
Clonando repo em /tmp/tmp.8XYFNBlWxI...
Cloning into '/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef'...
remote: Enumerating objects: 995, done.
remote: Counting objects:   0% (1/945)
remote: Counting objects:   1% (10/945)
remote: Counting objects:   2% (19/945)
remote: Counting objects:   3% (29/945)
remote: Counting objects:   4% (38/945)
remote: Counting objects:   5% (48/945)
remote: Counting objects:   6% (57/945)
remote: Counting objects:   7% (67/945)
remote: Counting objects:   8% (76/945)
remote: Counting objects:   9% (86/945)
remote: Counting objects:  10% (95/945)
remote: Counting objects:  11% (104/945)
remote: Counting objects:  12% (114/945)
remote: Counting objects:  13% (123/945)
remote: Counting objects:  14% (133/945)
remote: Counting objects:  15% (142/945)
remote: Counting objects:  16% (152/945)
remote: Counting objects:  17% (161/945)
remote: Counting objects:  18% (171/945)
remote: Counting objects:  19% (180/945)
remote: Counting objects:  20% (189/945)
remote: Counting objects:  21% (199/945)
remote: Counting objects:  22% (208/945)
remote: Counting objects:  23% (218/945)
remote: Counting objects:  24% (227/945)
remote: Counting objects:  25% (237/945)
remote: Counting objects:  26% (246/945)
remote: Counting objects:  27% (256/945)
remote: Counting objects:  28% (265/945)
remote: Counting objects:  29% (275/945)
remote: Counting objects:  30% (284/945)
remote: Counting objects:  31% (293/945)
remote: Counting objects:  32% (303/945)
remote: Counting objects:  33% (312/945)
remote: Counting objects:  34% (322/945)
remote: Counting objects:  35% (331/945)
remote: Counting objects:  36% (341/945)
remote: Counting objects:  37% (350/945)
remote: Counting objects:  38% (360/945)
remote: Counting objects:  39% (369/945)
remote: Counting objects:  40% (378/945)
remote: Counting objects:  41% (388/945)
remote: Counting objects:  42% (397/945)
remote: Counting objects:  43% (407/945)
remote: Counting objects:  44% (416/945)
remote: Counting objects:  45% (426/945)
remote: Counting objects:  46% (435/945)
remote: Counting objects:  47% (445/945)
remote: Counting objects:  48% (454/945)
remote: Counting objects:  49% (464/945)
remote: Counting objects:  50% (473/945)
remote: Counting objects:  51% (482/945)
remote: Counting objects:  52% (492/945)
remote: Counting objects:  53% (501/945)
remote: Counting objects:  54% (511/945)
remote: Counting objects:  55% (520/945)
remote: Counting objects:  56% (530/945)
remote: Counting objects:  57% (539/945)
remote: Counting objects:  58% (549/945)
remote: Counting objects:  59% (558/945)
remote: Counting objects:  60% (567/945)
remote: Counting objects:  61% (577/945)
remote: Counting objects:  62% (586/945)
remote: Counting objects:  63% (596/945)
remote: Counting objects:  64% (605/945)
remote: Counting objects:  65% (615/945)
remote: Counting objects:  66% (624/945)
remote: Counting objects:  67% (634/945)
remote: Counting objects:  68% (643/945)
remote: Counting objects:  69% (653/945)
remote: Counting objects:  70% (662/945)
remote: Counting objects:  71% (671/945)
remote: Counting objects:  72% (681/945)
remote: Counting objects:  73% (690/945)
remote: Counting objects:  74% (700/945)
remote: Counting objects:  75% (709/945)
remote: Counting objects:  76% (719/945)
remote: Counting objects:  77% (728/945)
remote: Counting objects:  78% (738/945)
remote: Counting objects:  79% (747/945)
remote: Counting objects:  80% (756/945)
remote: Counting objects:  81% (766/945)
remote: Counting objects:  82% (775/945)
remote: Counting objects:  83% (785/945)
remote: Counting objects:  84% (794/945)
remote: Counting objects:  85% (804/945)
remote: Counting objects:  86% (813/945)
remote: Counting objects:  87% (823/945)
remote: Counting objects:  88% (832/945)
remote: Counting objects:  89% (842/945)
remote: Counting objects:  90% (851/945)
remote: Counting objects:  91% (860/945)
remote: Counting objects:  92% (870/945)
remote: Counting objects:  93% (879/945)
remote: Counting objects:  94% (889/945)
remote: Counting objects:  95% (898/945)
remote: Counting objects:  96% (908/945)
remote: Counting objects:  97% (917/945)
remote: Counting objects:  98% (927/945)
remote: Counting objects:  99% (936/945)
remote: Counting objects: 100% (945/945)
remote: Counting objects: 100% (945/945), done.
remote: Compressing objects:   0% (1/930)
remote: Compressing objects:   1% (10/930)
remote: Compressing objects:   2% (19/930)
remote: Compressing objects:   3% (28/930)
remote: Compressing objects:   4% (38/930)
remote: Compressing objects:   5% (47/930)
remote: Compressing objects:   6% (56/930)
remote: Compressing objects:   7% (66/930)
remote: Compressing objects:   8% (75/930)
remote: Compressing objects:   9% (84/930)
remote: Compressing objects:  10% (93/930)
remote: Compressing objects:  11% (103/930)
remote: Compressing objects:  12% (112/930)
remote: Compressing objects:  13% (121/930)
remote: Compressing objects:  14% (131/930)
remote: Compressing objects:  15% (140/930)
remote: Compressing objects:  16% (149/930)
remote: Compressing objects:  17% (159/930)
remote: Compressing objects:  18% (168/930)
remote: Compressing objects:  19% (177/930)
remote: Compressing objects:  20% (186/930)
remote: Compressing objects:  21% (196/930)
remote: Compressing objects:  22% (205/930)
remote: Compressing objects:  23% (214/930)
remote: Compressing objects:  24% (224/930)
remote: Compressing objects:  25% (233/930)
remote: Compressing objects:  26% (242/930)
remote: Compressing objects:  27% (252/930)
remote: Compressing objects:  28% (261/930)
remote: Compressing objects:  29% (270/930)
remote: Compressing objects:  30% (279/930)
remote: Compressing objects:  31% (289/930)
remote: Compressing objects:  32% (298/930)
remote: Compressing objects:  33% (307/930)
remote: Compressing objects:  34% (317/930)
remote: Compressing objects:  35% (326/930)
remote: Compressing objects:  36% (335/930)
remote: Compressing objects:  37% (345/930)
remote: Compressing objects:  38% (354/930)
remote: Compressing objects:  39% (363/930)
remote: Compressing objects:  40% (372/930)
remote: Compressing objects:  41% (382/930)
remote: Compressing objects:  42% (391/930)
remote: Compressing objects:  43% (400/930)
remote: Compressing objects:  44% (410/930)
remote: Compressing objects:  45% (419/930)
remote: Compressing objects:  46% (428/930)
remote: Compressing objects:  47% (438/930)
remote: Compressing objects:  48% (447/930)
remote: Compressing objects:  49% (456/930)
remote: Compressing objects:  50% (465/930)
remote: Compressing objects:  51% (475/930)
remote: Compressing objects:  52% (484/930)
remote: Compressing objects:  53% (493/930)
remote: Compressing objects:  54% (503/930)
remote: Compressing objects:  55% (512/930)
remote: Compressing objects:  56% (521/930)
remote: Compressing objects:  57% (531/930)
remote: Compressing objects:  58% (540/930)
remote: Compressing objects:  59% (549/930)
remote: Compressing objects:  60% (558/930)
remote: Compressing objects:  61% (568/930)
remote: Compressing objects:  62% (577/930)
remote: Compressing objects:  63% (586/930)
remote: Compressing objects:  64% (596/930)
remote: Compressing objects:  65% (605/930)
remote: Compressing objects:  66% (614/930)
remote: Compressing objects:  67% (624/930)
remote: Compressing objects:  68% (633/930)
remote: Compressing objects:  69% (642/930)
remote: Compressing objects:  70% (651/930)
remote: Compressing objects:  71% (661/930)
remote: Compressing objects:  72% (670/930)
remote: Compressing objects:  73% (679/930)
remote: Compressing objects:  74% (689/930)
remote: Compressing objects:  75% (698/930)
remote: Compressing objects:  76% (707/930)
remote: Compressing objects:  77% (717/930)
remote: Compressing objects:  78% (726/930)
remote: Compressing objects:  79% (735/930)
remote: Compressing objects:  80% (744/930)
remote: Compressing objects:  81% (754/930)
remote: Compressing objects:  82% (763/930)
remote: Compressing objects:  83% (772/930)
remote: Compressing objects:  84% (782/930)
remote: Compressing objects:  85% (791/930)
remote: Compressing objects:  86% (800/930)
remote: Compressing objects:  87% (810/930)
remote: Compressing objects:  88% (819/930)
remote: Compressing objects:  89% (828/930)
remote: Compressing objects:  90% (837/930)
remote: Compressing objects:  91% (847/930)
remote: Compressing objects:  92% (856/930)
remote: Compressing objects:  93% (865/930)
remote: Compressing objects:  94% (875/930)
remote: Compressing objects:  95% (884/930)
remote: Compressing objects:  96% (893/930)
remote: Compressing objects:  97% (903/930)
remote: Compressing objects:  98% (912/930)
remote: Compressing objects:  99% (921/930)
remote: Compressing objects: 100% (930/930)
remote: Compressing objects: 100% (930/930), done.
Receiving objects:   0% (1/995)
Receiving objects:   1% (10/995)
Receiving objects:   2% (20/995)
Receiving objects:   3% (30/995)
Receiving objects:   4% (40/995)
Receiving objects:   5% (50/995)
Receiving objects:   6% (60/995)
Receiving objects:   7% (70/995)
Receiving objects:   8% (80/995)
Receiving objects:   9% (90/995)
Receiving objects:  10% (100/995)
Receiving objects:  11% (110/995)
Receiving objects:  12% (120/995)
Receiving objects:  13% (130/995)
Receiving objects:  14% (140/995)
Receiving objects:  15% (150/995)
Receiving objects:  16% (160/995)
Receiving objects:  17% (170/995)
Receiving objects:  18% (180/995)
Receiving objects:  19% (190/995)
Receiving objects:  20% (199/995)
Receiving objects:  21% (209/995)
Receiving objects:  22% (219/995)
Receiving objects:  23% (229/995)
Receiving objects:  24% (239/995)
Receiving objects:  25% (249/995)
Receiving objects:  26% (259/995)
Receiving objects:  27% (269/995)
Receiving objects:  28% (279/995)
Receiving objects:  29% (289/995)
Receiving objects:  30% (299/995)
Receiving objects:  31% (309/995)
Receiving objects:  32% (319/995)
Receiving objects:  33% (329/995)
Receiving objects:  34% (339/995)
Receiving objects:  35% (349/995)
Receiving objects:  36% (359/995)
Receiving objects:  37% (369/995)
Receiving objects:  38% (379/995)
Receiving objects:  39% (389/995)
Receiving objects:  40% (398/995)
Receiving objects:  41% (408/995)
Receiving objects:  42% (418/995)
Receiving objects:  43% (428/995)
Receiving objects:  44% (438/995)
Receiving objects:  45% (448/995)
Receiving objects:  46% (458/995)
Receiving objects:  47% (468/995)
Receiving objects:  48% (478/995)
Receiving objects:  49% (488/995)
Receiving objects:  50% (498/995)
Receiving objects:  51% (508/995)
Receiving objects:  52% (518/995)
Receiving objects:  53% (528/995)
Receiving objects:  54% (538/995)
Receiving objects:  55% (548/995)
Receiving objects:  56% (558/995)
Receiving objects:  57% (568/995)
Receiving objects:  58% (578/995)
Receiving objects:  59% (588/995)
Receiving objects:  60% (597/995)
Receiving objects:  61% (607/995)
Receiving objects:  62% (617/995)
Receiving objects:  63% (627/995)
Receiving objects:  64% (637/995)
Receiving objects:  65% (647/995)
Receiving objects:  66% (657/995)
Receiving objects:  67% (667/995)
Receiving objects:  68% (677/995)
Receiving objects:  69% (687/995)
Receiving objects:  70% (697/995)
Receiving objects:  71% (707/995)
Receiving objects:  72% (717/995)
Receiving objects:  73% (727/995)
Receiving objects:  74% (737/995)
Receiving objects:  75% (747/995)
Receiving objects:  76% (757/995)
Receiving objects:  77% (767/995)
Receiving objects:  78% (777/995)
Receiving objects:  79% (787/995)
Receiving objects:  80% (796/995)
Receiving objects:  81% (806/995)
Receiving objects:  82% (816/995)
Receiving objects:  83% (826/995)
Receiving objects:  84% (836/995)
remote: Total 995 (delta 659), reused 0 (delta 0), pack-reused 50
Receiving objects:  85% (846/995)
Receiving objects:  86% (856/995)
Receiving objects:  87% (866/995)
Receiving objects:  88% (876/995)
Receiving objects:  89% (886/995)
Receiving objects:  90% (896/995)
Receiving objects:  91% (906/995)
Receiving objects:  92% (916/995)
Receiving objects:  93% (926/995)
Receiving objects:  94% (936/995)
Receiving objects:  95% (946/995)
Receiving objects:  96% (956/995)
Receiving objects:  97% (966/995)
Receiving objects:  98% (976/995)
Receiving objects:  99% (986/995)
Receiving objects: 100% (995/995)
Receiving objects: 100% (995/995), 952.40 KiB | 2.27 MiB/s, done.
Resolving deltas:   0% (0/678)
Resolving deltas:   1% (7/678)
Resolving deltas:   2% (14/678)
Resolving deltas:   3% (21/678)
Resolving deltas:   4% (28/678)
Resolving deltas:   5% (34/678)
Resolving deltas:   6% (41/678)
Resolving deltas:   7% (48/678)
Resolving deltas:   8% (55/678)
Resolving deltas:   9% (62/678)
Resolving deltas:  10% (68/678)
Resolving deltas:  11% (75/678)
Resolving deltas:  12% (82/678)
Resolving deltas:  13% (89/678)
Resolving deltas:  14% (95/678)
Resolving deltas:  15% (102/678)
Resolving deltas:  16% (109/678)
Resolving deltas:  17% (116/678)
Resolving deltas:  18% (123/678)
Resolving deltas:  19% (129/678)
Resolving deltas:  20% (136/678)
Resolving deltas:  21% (143/678)
Resolving deltas:  22% (150/678)
Resolving deltas:  23% (156/678)
Resolving deltas:  24% (163/678)
Resolving deltas:  25% (170/678)
Resolving deltas:  26% (177/678)
Resolving deltas:  27% (184/678)
Resolving deltas:  28% (190/678)
Resolving deltas:  29% (197/678)
Resolving deltas:  30% (204/678)
Resolving deltas:  31% (211/678)
Resolving deltas:  32% (217/678)
Resolving deltas:  33% (224/678)
Resolving deltas:  34% (231/678)
Resolving deltas:  35% (238/678)
Resolving deltas:  36% (245/678)
Resolving deltas:  37% (251/678)
Resolving deltas:  38% (258/678)
Resolving deltas:  39% (265/678)
Resolving deltas:  40% (272/678)
Resolving deltas:  41% (278/678)
Resolving deltas:  42% (285/678)
Resolving deltas:  43% (292/678)
Resolving deltas:  44% (299/678)
Resolving deltas:  45% (306/678)
Resolving deltas:  46% (312/678)
Resolving deltas:  47% (319/678)
Resolving deltas:  48% (326/678)
Resolving deltas:  49% (333/678)
Resolving deltas:  50% (339/678)
Resolving deltas:  51% (346/678)
Resolving deltas:  52% (353/678)
Resolving deltas:  53% (360/678)
Resolving deltas:  54% (367/678)
Resolving deltas:  55% (373/678)
Resolving deltas:  56% (380/678)
Resolving deltas:  57% (387/678)
Resolving deltas:  58% (394/678)
Resolving deltas:  59% (401/678)
Resolving deltas:  60% (407/678)
Resolving deltas:  61% (414/678)
Resolving deltas:  62% (421/678)
Resolving deltas:  63% (428/678)
Resolving deltas:  64% (434/678)
Resolving deltas:  65% (441/678)
Resolving deltas:  66% (448/678)
Resolving deltas:  67% (455/678)
Resolving deltas:  68% (462/678)
Resolving deltas:  69% (468/678)
Resolving deltas:  70% (475/678)
Resolving deltas:  71% (482/678)
Resolving deltas:  72% (489/678)
Resolving deltas:  73% (495/678)
Resolving deltas:  74% (502/678)
Resolving deltas:  75% (509/678)
Resolving deltas:  76% (516/678)
Resolving deltas:  77% (524/678)
Resolving deltas:  78% (529/678)
Resolving deltas:  79% (537/678)
Resolving deltas:  80% (543/678)
Resolving deltas:  81% (550/678)
Resolving deltas:  82% (556/678)
Resolving deltas:  83% (563/678)
Resolving deltas:  84% (570/678)
Resolving deltas:  85% (577/678)
Resolving deltas:  86% (584/678)
Resolving deltas:  87% (590/678)
Resolving deltas:  88% (597/678)
Resolving deltas:  89% (604/678)
Resolving deltas:  90% (611/678)
Resolving deltas:  91% (617/678)
Resolving deltas:  92% (624/678)
Resolving deltas:  93% (631/678)
Resolving deltas:  94% (638/678)
Resolving deltas:  95% (645/678)
Resolving deltas:  96% (651/678)
Resolving deltas:  97% (658/678)
Resolving deltas:  98% (665/678)
Resolving deltas:  99% (672/678)
Resolving deltas: 100% (678/678)
Resolving deltas: 100% (678/678), done.
== PIPELINE PREDEPLOY ==
TAG   : DEV000011
EXEC  : execution/machine_list_dev.yml
BRANCH: develop-testes
PLAY [Predeploy a partir do arquivo de execução] *******************************
TASK [Gathering Facts] *********************************************************
ok: [localhost]
TASK [Resolver filestore_env e filestore_base_dir sem recursão] ****************
ok: [localhost]
TASK [Mostrar variáveis de entrada e resolvidas] *******************************
ok: [localhost] => {
    "msg": [
        "execution_file_name_resolved = execution/machine_list_dev.yml",
        "deployment_ref_resolved      = DEV000011",
        "repo_root_resolved           = /tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/..",
        "status_dir_resolved          = /tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../status/DEV000011",
        "filestore_env_resolved       = dev",
        "filestore_base_dir_resolved  = dev/DEV000011",
        "nexus_base_url_resolved      = https://nexus-ci.onefiserv.net/repository/raw-apm0004548-dev"
    ]
}
TASK [Criar diretório de status da TAG] ****************************************
changed: [localhost]
TASK [Carregar arquivo de execução] ********************************************
ok: [localhost]
TASK [Falhar se não tiver máquinas no arquivo de execução] *********************
skipping: [localhost]
TASK [Executar pré-deploy por máquina] *****************************************
included: /tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/predeploy_per_machine.yml for localhost => (item=sitef-02)
TASK [Predeploy | Resolver nome da máquina atual] ******************************
ok: [localhost]
TASK [Predeploy | Validar vars mínimas] ****************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir paths base do repositório] ***************************
ok: [localhost]
TASK [Predeploy | Definir candidatos de arquivo da máquina] ********************
ok: [localhost]
TASK [Predeploy | Verificar candidatos] ****************************************
ok: [localhost] => (item=/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml)
TASK [Predeploy | Selecionar machine_file existente] ***************************
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'ansible_loop_var': 'item'}) 
ok: [localhost] => (item={'changed': False, 'stat': {'exists': True, 'path': '/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'mode': '0640', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 248, 'inode': 4417883, 'dev': 64775, 'nlink': 1, 'atime': 1766606969.7853575, 'mtime': 1766606969.7713573, 'ctime': 1766606969.7713573, 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False, 'blocks': 8, 'block_size': 4096, 'device_type': 0, 'readable': True, 'writeable': True, 'executable': False, 'pw_name': 'ec2-user', 'gr_name': 'ec2-user', 'checksum': '005e3367129d5aefc77f49fd9fe62b4e58c51cd5', 'mimetype': 'text/plain', 'charset': 'us-ascii', 'version': '1625948901', 'attributes': [], 'attr_flags': ''}, 'invocation': {'module_args': {'path': '/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'ansible_loop_var': 'item'})
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
TASK [Predeploy | Falhar se arquivo da máquina não existir] ********************
skipping: [localhost]
TASK [Predeploy | Carregar config da máquina sitef-02] *************************
ok: [localhost]
TASK [Predeploy | Validar package definido] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Carregar config do pacote sitef-core-0.0.1-0] ****************
ok: [localhost]
TASK [Predeploy | Validar components do pacote] ********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Validar script do pacote] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir usuário alvo padrão] *********************************
ok: [localhost]
TASK [Predeploy | Definir ssh_common_args padrão] ******************************
ok: [localhost]
TASK [Predeploy | Aplicar ProxyJump via bastion (quando necessário)] ***********
skipping: [localhost]
TASK [Predeploy | Registrar host dinâmico para sitef-02] ***********************
changed: [localhost]
TASK [Predeploy | Montar env final (package base + machine override)] **********
ok: [localhost]
TASK [Predeploy | Normalizações] ***********************************************
ok: [localhost]
TASK [Predeploy | Gerar run_id] ************************************************
ok: [localhost]
TASK [Predeploy | Definir arquivos/diretórios locais] **************************
ok: [localhost]
TASK [Predeploy | Definir paths lógicos (File Store) SEPARADOS POR STAGE] ******
ok: [localhost]
TASK [Predeploy | Garantir diretório de status local] **************************
changed: [localhost]
TASK [Predeploy | Garantir arquivo pipeline.log (cumulativo local)] ************
changed: [localhost]
TASK [Predeploy | Verificar se status.json já existe] **************************
ok: [localhost]
TASK [Predeploy | Ler status.json existente (se existir)] **********************
skipping: [localhost]
TASK [Predeploy | Parse do status existente (ou base vazio)] *******************
ok: [localhost]
TASK [Predeploy | Escrever status inicial (predeploy:queued) com history append] ***
changed: [localhost]
TASK [Predeploy | Definir diretórios remotos do pipeline] **********************
ok: [localhost]
TASK [Predeploy | Garantir base do pipeline no host] ***************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/components)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts/package)
TASK [Predeploy | Limpar pasta de scripts do pacote] ***************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Recriar pasta de scripts do pacote] **************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Copiar package.yml para o host] ******************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Garantir diretórios dos componentes no host] *****************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Baixar componentes do Nexus] *********************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Copiar scripts do pacote para o host] ************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Executar init_parallel.sh no host (com log + stdout)] ********
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Tail do init_parallel.log (sempre)] **************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Montar conteúdo do log (bloco predeploy)] ********************
ok: [localhost]
TASK [Predeploy | Append do bloco no pipeline.log (controller)] ****************
changed: [localhost]
TASK [Predeploy | Carregar conteúdo completo do pipeline.log (controller)] *****
ok: [localhost]
TASK [Predeploy | Ler status.json atual] ***************************************
ok: [localhost]
TASK [Predeploy | Parse do status atual] ***************************************
ok: [localhost]
TASK [Predeploy | Atualizar status final (append em history)] ******************
changed: [localhost]
TASK [Predeploy | Upload JSON + LOG para Harness File Store (sempre)] **********
included: /tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/harness_filestore_upload.yml for localhost
TASK [Harness | Resolver base via ENV (parte 1)] *******************************
ok: [localhost]
TASK [Harness | Resolver base via ENV (parte 2)] *******************************
ok: [localhost]
TASK [Harness | Validar se pode fazer upload] **********************************
ok: [localhost]
TASK [Harness | Pular upload se faltar credenciais (não falha pipeline)] *******
skipping: [localhost]
TASK [Harness | Resolver nomes/paths] ******************************************
fatal: [localhost]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'hf_log_path' is undefined. 'hf_log_path' is undefined\n\nThe error appears to be in '/tmp/tmp.8XYFNBlWxI/elastic-compute-cloud-sitef/ansible/harness_filestore_upload.yml': line 59, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: \"Harness | Resolver nomes/paths\"\n  ^ here\n"}
PLAY RECAP *********************************************************************
localhost                  : ok=50   changed=11   unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
Command finished with status FAILURE
