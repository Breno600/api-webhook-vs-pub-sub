Exec using JSCH
Connecting to 10.218.238.144 ....
Connection to 10.218.238.144 established
Executing command ...
export GIT_TAG=DEV00001
Clonando repo em /tmp/tmp.b0ap6bdHft...
Cloning into '/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef'...
remote: Enumerating objects: 1094, done.
remote: Counting objects:   0% (1/1044)
remote: Counting objects:   1% (11/1044)
remote: Counting objects:   2% (21/1044)
remote: Counting objects:   3% (32/1044)
remote: Counting objects:   4% (42/1044)
remote: Counting objects:   5% (53/1044)
remote: Counting objects:   6% (63/1044)
remote: Counting objects:   7% (74/1044)
remote: Counting objects:   8% (84/1044)
remote: Counting objects:   9% (94/1044)
remote: Counting objects:  10% (105/1044)
remote: Counting objects:  11% (115/1044)
remote: Counting objects:  12% (126/1044)
remote: Counting objects:  13% (136/1044)
remote: Counting objects:  14% (147/1044)
remote: Counting objects:  15% (157/1044)
remote: Counting objects:  16% (168/1044)
remote: Counting objects:  17% (178/1044)
remote: Counting objects:  18% (188/1044)
remote: Counting objects:  19% (199/1044)
remote: Counting objects:  20% (209/1044)
remote: Counting objects:  21% (220/1044)
remote: Counting objects:  22% (230/1044)
remote: Counting objects:  23% (241/1044)
remote: Counting objects:  24% (251/1044)
remote: Counting objects:  25% (261/1044)
remote: Counting objects:  26% (272/1044)
remote: Counting objects:  27% (282/1044)
remote: Counting objects:  28% (293/1044)
remote: Counting objects:  29% (303/1044)
remote: Counting objects:  30% (314/1044)
remote: Counting objects:  31% (324/1044)
remote: Counting objects:  32% (335/1044)
remote: Counting objects:  33% (345/1044)
remote: Counting objects:  34% (355/1044)
remote: Counting objects:  35% (366/1044)
remote: Counting objects:  36% (376/1044)
remote: Counting objects:  37% (387/1044)
remote: Counting objects:  38% (397/1044)
remote: Counting objects:  39% (408/1044)
remote: Counting objects:  40% (418/1044)
remote: Counting objects:  41% (429/1044)
remote: Counting objects:  42% (439/1044)
remote: Counting objects:  43% (449/1044)
remote: Counting objects:  44% (460/1044)
remote: Counting objects:  45% (470/1044)
remote: Counting objects:  46% (481/1044)
remote: Counting objects:  47% (491/1044)
remote: Counting objects:  48% (502/1044)
remote: Counting objects:  49% (512/1044)
remote: Counting objects:  50% (522/1044)
remote: Counting objects:  51% (533/1044)
remote: Counting objects:  52% (543/1044)
remote: Counting objects:  53% (554/1044)
remote: Counting objects:  54% (564/1044)
remote: Counting objects:  55% (575/1044)
remote: Counting objects:  56% (585/1044)
remote: Counting objects:  57% (596/1044)
remote: Counting objects:  58% (606/1044)
remote: Counting objects:  59% (616/1044)
remote: Counting objects:  60% (627/1044)
remote: Counting objects:  61% (637/1044)
remote: Counting objects:  62% (648/1044)
remote: Counting objects:  63% (658/1044)
remote: Counting objects:  64% (669/1044)
remote: Counting objects:  65% (679/1044)
remote: Counting objects:  66% (690/1044)
remote: Counting objects:  67% (700/1044)
remote: Counting objects:  68% (710/1044)
remote: Counting objects:  69% (721/1044)
remote: Counting objects:  70% (731/1044)
remote: Counting objects:  71% (742/1044)
remote: Counting objects:  72% (752/1044)
remote: Counting objects:  73% (763/1044)
remote: Counting objects:  74% (773/1044)
remote: Counting objects:  75% (783/1044)
remote: Counting objects:  76% (794/1044)
remote: Counting objects:  77% (804/1044)
remote: Counting objects:  78% (815/1044)
remote: Counting objects:  79% (825/1044)
remote: Counting objects:  80% (836/1044)
remote: Counting objects:  81% (846/1044)
remote: Counting objects:  82% (857/1044)
remote: Counting objects:  83% (867/1044)
remote: Counting objects:  84% (877/1044)
remote: Counting objects:  85% (888/1044)
remote: Counting objects:  86% (898/1044)
remote: Counting objects:  87% (909/1044)
remote: Counting objects:  88% (919/1044)
remote: Counting objects:  89% (930/1044)
remote: Counting objects:  90% (940/1044)
remote: Counting objects:  91% (951/1044)
remote: Counting objects:  92% (961/1044)
remote: Counting objects:  93% (971/1044)
remote: Counting objects:  94% (982/1044)
remote: Counting objects:  95% (992/1044)
remote: Counting objects:  96% (1003/1044)
remote: Counting objects:  97% (1013/1044)
remote: Counting objects:  98% (1024/1044)
remote: Counting objects:  99% (1034/1044)
remote: Counting objects: 100% (1044/1044)
remote: Counting objects: 100% (1044/1044), done.
remote: Compressing objects:   0% (1/282)
remote: Compressing objects:   1% (3/282)
remote: Compressing objects:   2% (6/282)
remote: Compressing objects:   3% (9/282)
remote: Compressing objects:   4% (12/282)
remote: Compressing objects:   5% (15/282)
remote: Compressing objects:   6% (17/282)
remote: Compressing objects:   7% (20/282)
remote: Compressing objects:   8% (23/282)
remote: Compressing objects:   9% (26/282)
remote: Compressing objects:  10% (29/282)
remote: Compressing objects:  11% (32/282)
remote: Compressing objects:  12% (34/282)
remote: Compressing objects:  13% (37/282)
remote: Compressing objects:  14% (40/282)
remote: Compressing objects:  15% (43/282)
remote: Compressing objects:  16% (46/282)
remote: Compressing objects:  17% (48/282)
remote: Compressing objects:  18% (51/282)
remote: Compressing objects:  19% (54/282)
remote: Compressing objects:  20% (57/282)
remote: Compressing objects:  21% (60/282)
remote: Compressing objects:  22% (63/282)
remote: Compressing objects:  23% (65/282)
remote: Compressing objects:  24% (68/282)
remote: Compressing objects:  25% (71/282)
remote: Compressing objects:  26% (74/282)
remote: Compressing objects:  27% (77/282)
remote: Compressing objects:  28% (79/282)
remote: Compressing objects:  29% (82/282)
remote: Compressing objects:  30% (85/282)
remote: Compressing objects:  31% (88/282)
remote: Compressing objects:  32% (91/282)
remote: Compressing objects:  33% (94/282)
remote: Compressing objects:  34% (96/282)
remote: Compressing objects:  35% (99/282)
remote: Compressing objects:  36% (102/282)
remote: Compressing objects:  37% (105/282)
remote: Compressing objects:  38% (108/282)
remote: Compressing objects:  39% (110/282)
remote: Compressing objects:  40% (113/282)
remote: Compressing objects:  41% (116/282)
remote: Compressing objects:  42% (119/282)
remote: Compressing objects:  43% (122/282)
remote: Compressing objects:  44% (125/282)
remote: Compressing objects:  45% (127/282)
remote: Compressing objects:  46% (130/282)
remote: Compressing objects:  47% (133/282)
remote: Compressing objects:  48% (136/282)
remote: Compressing objects:  49% (139/282)
remote: Compressing objects:  50% (141/282)
remote: Compressing objects:  51% (144/282)
remote: Compressing objects:  52% (147/282)
remote: Compressing objects:  53% (150/282)
remote: Compressing objects:  54% (153/282)
remote: Compressing objects:  55% (156/282)
remote: Compressing objects:  56% (158/282)
remote: Compressing objects:  57% (161/282)
remote: Compressing objects:  58% (164/282)
remote: Compressing objects:  59% (167/282)
remote: Compressing objects:  60% (170/282)
remote: Compressing objects:  61% (173/282)
remote: Compressing objects:  62% (175/282)
remote: Compressing objects:  63% (178/282)
remote: Compressing objects:  64% (181/282)
remote: Compressing objects:  65% (184/282)
remote: Compressing objects:  66% (187/282)
remote: Compressing objects:  67% (189/282)
remote: Compressing objects:  68% (192/282)
remote: Compressing objects:  69% (195/282)
remote: Compressing objects:  70% (198/282)
remote: Compressing objects:  71% (201/282)
remote: Compressing objects:  72% (204/282)
remote: Compressing objects:  73% (206/282)
remote: Compressing objects:  74% (209/282)
remote: Compressing objects:  75% (212/282)
remote: Compressing objects:  76% (215/282)
remote: Compressing objects:  77% (218/282)
remote: Compressing objects:  78% (220/282)
remote: Compressing objects:  79% (223/282)
remote: Compressing objects:  80% (226/282)
remote: Compressing objects:  81% (229/282)
remote: Compressing objects:  82% (232/282)
remote: Compressing objects:  83% (235/282)
remote: Compressing objects:  84% (237/282)
remote: Compressing objects:  85% (240/282)
remote: Compressing objects:  86% (243/282)
remote: Compressing objects:  87% (246/282)
remote: Compressing objects:  88% (249/282)
remote: Compressing objects:  89% (251/282)
remote: Compressing objects:  90% (254/282)
remote: Compressing objects:  91% (257/282)
remote: Compressing objects:  92% (260/282)
remote: Compressing objects:  93% (263/282)
remote: Compressing objects:  94% (266/282)
remote: Compressing objects:  95% (268/282)
remote: Compressing objects:  96% (271/282)
remote: Compressing objects:  97% (274/282)
remote: Compressing objects:  98% (277/282)
remote: Compressing objects:  99% (280/282)
remote: Compressing objects: 100% (282/282)
remote: Compressing objects: 100% (282/282), done.
Receiving objects:   0% (1/1094)
Receiving objects:   1% (11/1094)
Receiving objects:   2% (22/1094)
Receiving objects:   3% (33/1094)
Receiving objects:   4% (44/1094)
Receiving objects:   5% (55/1094)
Receiving objects:   6% (66/1094)
Receiving objects:   7% (77/1094)
Receiving objects:   8% (88/1094)
Receiving objects:   9% (99/1094)
Receiving objects:  10% (110/1094)
Receiving objects:  11% (121/1094)
Receiving objects:  12% (132/1094)
Receiving objects:  13% (143/1094)
Receiving objects:  14% (154/1094)
Receiving objects:  15% (165/1094)
Receiving objects:  16% (176/1094)
Receiving objects:  17% (186/1094)
Receiving objects:  18% (197/1094)
Receiving objects:  19% (208/1094)
Receiving objects:  20% (219/1094)
Receiving objects:  21% (230/1094)
Receiving objects:  22% (241/1094)
Receiving objects:  23% (252/1094)
Receiving objects:  24% (263/1094)
Receiving objects:  25% (274/1094)
Receiving objects:  26% (285/1094)
Receiving objects:  27% (296/1094)
Receiving objects:  28% (307/1094)
Receiving objects:  29% (318/1094)
Receiving objects:  30% (329/1094)
Receiving objects:  31% (340/1094)
Receiving objects:  32% (351/1094)
Receiving objects:  33% (362/1094)
Receiving objects:  34% (372/1094)
Receiving objects:  35% (383/1094)
Receiving objects:  36% (394/1094)
Receiving objects:  37% (405/1094)
Receiving objects:  38% (416/1094)
Receiving objects:  39% (427/1094)
Receiving objects:  40% (438/1094)
Receiving objects:  41% (449/1094)
Receiving objects:  42% (460/1094)
Receiving objects:  43% (471/1094)
Receiving objects:  44% (482/1094)
Receiving objects:  45% (493/1094)
Receiving objects:  46% (504/1094)
Receiving objects:  47% (515/1094)
Receiving objects:  48% (526/1094)
Receiving objects:  49% (537/1094)
Receiving objects:  50% (547/1094)
Receiving objects:  51% (558/1094)
Receiving objects:  52% (569/1094)
Receiving objects:  53% (580/1094)
Receiving objects:  54% (591/1094)
Receiving objects:  55% (602/1094)
Receiving objects:  56% (613/1094)
Receiving objects:  57% (624/1094)
Receiving objects:  58% (635/1094)
Receiving objects:  59% (646/1094)
Receiving objects:  60% (657/1094)
Receiving objects:  61% (668/1094)
Receiving objects:  62% (679/1094)
Receiving objects:  63% (690/1094)
Receiving objects:  64% (701/1094)
Receiving objects:  65% (712/1094)
Receiving objects:  66% (723/1094)
Receiving objects:  67% (733/1094)
Receiving objects:  68% (744/1094)
Receiving objects:  69% (755/1094)
Receiving objects:  70% (766/1094)
Receiving objects:  71% (777/1094)
Receiving objects:  72% (788/1094)
Receiving objects:  73% (799/1094)
Receiving objects:  74% (810/1094)
Receiving objects:  75% (821/1094)
Receiving objects:  76% (832/1094)
Receiving objects:  77% (843/1094)
Receiving objects:  78% (854/1094)
Receiving objects:  79% (865/1094)
Receiving objects:  80% (876/1094)
Receiving objects:  81% (887/1094)
Receiving objects:  82% (898/1094)
Receiving objects:  83% (909/1094)
Receiving objects:  84% (919/1094)
remote: Total 1094 (delta 751), reused 1037 (delta 747), pack-reused 50
Receiving objects:  85% (930/1094)
Receiving objects:  86% (941/1094)
Receiving objects:  87% (952/1094)
Receiving objects:  88% (963/1094)
Receiving objects:  89% (974/1094)
Receiving objects:  90% (985/1094)
Receiving objects:  91% (996/1094)
Receiving objects:  92% (1007/1094)
Receiving objects:  93% (1018/1094)
Receiving objects:  94% (1029/1094)
Receiving objects:  95% (1040/1094)
Receiving objects:  96% (1051/1094)
Receiving objects:  97% (1062/1094)
Receiving objects:  98% (1073/1094)
Receiving objects:  99% (1084/1094)
Receiving objects: 100% (1094/1094)
Receiving objects: 100% (1094/1094), 982.89 KiB | 1.95 MiB/s, done.
Resolving deltas:   0% (0/770)
Resolving deltas:   1% (8/770)
Resolving deltas:   2% (16/770)
Resolving deltas:   3% (24/770)
Resolving deltas:   4% (31/770)
Resolving deltas:   5% (39/770)
Resolving deltas:   6% (47/770)
Resolving deltas:   7% (54/770)
Resolving deltas:   8% (62/770)
Resolving deltas:   9% (70/770)
Resolving deltas:  10% (77/770)
Resolving deltas:  11% (85/770)
Resolving deltas:  12% (93/770)
Resolving deltas:  13% (101/770)
Resolving deltas:  14% (108/770)
Resolving deltas:  15% (116/770)
Resolving deltas:  16% (124/770)
Resolving deltas:  17% (131/770)
Resolving deltas:  18% (139/770)
Resolving deltas:  19% (147/770)
Resolving deltas:  20% (154/770)
Resolving deltas:  21% (162/770)
Resolving deltas:  22% (170/770)
Resolving deltas:  23% (178/770)
Resolving deltas:  24% (185/770)
Resolving deltas:  25% (193/770)
Resolving deltas:  26% (201/770)
Resolving deltas:  27% (208/770)
Resolving deltas:  28% (216/770)
Resolving deltas:  29% (224/770)
Resolving deltas:  30% (231/770)
Resolving deltas:  31% (239/770)
Resolving deltas:  32% (247/770)
Resolving deltas:  33% (255/770)
Resolving deltas:  34% (262/770)
Resolving deltas:  35% (270/770)
Resolving deltas:  36% (278/770)
Resolving deltas:  37% (285/770)
Resolving deltas:  38% (293/770)
Resolving deltas:  39% (301/770)
Resolving deltas:  40% (308/770)
Resolving deltas:  41% (316/770)
Resolving deltas:  42% (324/770)
Resolving deltas:  43% (332/770)
Resolving deltas:  44% (339/770)
Resolving deltas:  45% (347/770)
Resolving deltas:  46% (355/770)
Resolving deltas:  47% (362/770)
Resolving deltas:  48% (370/770)
Resolving deltas:  49% (378/770)
Resolving deltas:  50% (385/770)
Resolving deltas:  51% (393/770)
Resolving deltas:  52% (401/770)
Resolving deltas:  53% (409/770)
Resolving deltas:  54% (416/770)
Resolving deltas:  55% (424/770)
Resolving deltas:  56% (432/770)
Resolving deltas:  57% (439/770)
Resolving deltas:  58% (447/770)
Resolving deltas:  59% (455/770)
Resolving deltas:  60% (462/770)
Resolving deltas:  61% (470/770)
Resolving deltas:  62% (479/770)
Resolving deltas:  63% (486/770)
Resolving deltas:  64% (493/770)
Resolving deltas:  65% (501/770)
Resolving deltas:  66% (509/770)
Resolving deltas:  67% (516/770)
Resolving deltas:  68% (524/770)
Resolving deltas:  69% (532/770)
Resolving deltas:  70% (539/770)
Resolving deltas:  71% (547/770)
Resolving deltas:  72% (555/770)
Resolving deltas:  73% (563/770)
Resolving deltas:  74% (570/770)
Resolving deltas:  75% (578/770)
Resolving deltas:  76% (586/770)
Resolving deltas:  77% (593/770)
Resolving deltas:  78% (601/770)
Resolving deltas:  79% (609/770)
Resolving deltas:  80% (616/770)
Resolving deltas:  81% (624/770)
Resolving deltas:  82% (632/770)
Resolving deltas:  83% (641/770)
Resolving deltas:  84% (647/770)
Resolving deltas:  85% (655/770)
Resolving deltas:  86% (663/770)
Resolving deltas:  87% (670/770)
Resolving deltas:  88% (678/770)
Resolving deltas:  89% (686/770)
Resolving deltas:  90% (693/770)
Resolving deltas:  91% (701/770)
Resolving deltas:  92% (709/770)
Resolving deltas:  93% (717/770)
Resolving deltas:  94% (724/770)
Resolving deltas:  95% (732/770)
Resolving deltas:  96% (740/770)
Resolving deltas:  97% (747/770)
Resolving deltas:  98% (755/770)
Resolving deltas:  99% (763/770)
Resolving deltas: 100% (770/770)
Resolving deltas: 100% (770/770), done.
== PIPELINE PREDEPLOY ==
TAG   : DEV00001
EXEC  : execution/machine_list_dev.yml
BRANCH: develop-testes
PLAY [Predeploy a partir do arquivo de execução] *******************************
TASK [Gathering Facts] *********************************************************
ok: [localhost]
TASK [Resolver filestore_env e filestore_base_dir sem recursão] ****************
ok: [localhost]
TASK [Mostrar variáveis de entrada e resolvidas] *******************************
ok: [localhost] => {
    "msg": [
        "execution_file_name_resolved = execution/machine_list_dev.yml",
        "deployment_ref_resolved      = DEV00001",
        "repo_root_resolved           = /tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/..",
        "status_dir_resolved          = /tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../status/DEV00001",
        "filestore_env_resolved       = dev",
        "filestore_base_dir_resolved  = dev/DEV00001",
        "nexus_base_url_resolved      = https://nexus-ci.onefiserv.net/repository/raw-apm0004548-dev"
    ]
}
TASK [Criar diretório de status da TAG] ****************************************
changed: [localhost]
TASK [Carregar arquivo de execução] ********************************************
ok: [localhost]
TASK [Falhar se não tiver máquinas no arquivo de execução] *********************
skipping: [localhost]
TASK [Executar pré-deploy por máquina] *****************************************
included: /tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/predeploy_per_machine.yml for localhost => (item=sitef-02)
TASK [Predeploy | Resolver nome da máquina atual] ******************************
ok: [localhost]
TASK [Predeploy | Validar vars mínimas] ****************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir paths base do repositório] ***************************
ok: [localhost]
TASK [Predeploy | Definir candidatos de arquivo da máquina] ********************
ok: [localhost]
TASK [Predeploy | Verificar candidatos] ****************************************
ok: [localhost] => (item=/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml)
TASK [Predeploy | Selecionar machine_file existente] ***************************
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'ansible_loop_var': 'item'}) 
ok: [localhost] => (item={'changed': False, 'stat': {'exists': True, 'path': '/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'mode': '0640', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 248, 'inode': 15850, 'dev': 64775, 'nlink': 1, 'atime': 1766706217.3409724, 'mtime': 1766706217.3219721, 'ctime': 1766706217.3219721, 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False, 'blocks': 8, 'block_size': 4096, 'device_type': 0, 'readable': True, 'writeable': True, 'executable': False, 'pw_name': 'ec2-user', 'gr_name': 'ec2-user', 'checksum': '005e3367129d5aefc77f49fd9fe62b4e58c51cd5', 'mimetype': 'text/plain', 'charset': 'us-ascii', 'version': '3362624893', 'attributes': [], 'attr_flags': ''}, 'invocation': {'module_args': {'path': '/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'ansible_loop_var': 'item'})
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
TASK [Predeploy | Falhar se arquivo da máquina não existir] ********************
skipping: [localhost]
TASK [Predeploy | Carregar config da máquina sitef-02] *************************
ok: [localhost]
TASK [Predeploy | Validar package definido] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Carregar config do pacote sitef-core-0.0.1-0] ****************
ok: [localhost]
TASK [Predeploy | Validar components do pacote] ********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Validar script do pacote] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir usuário alvo padrão] *********************************
ok: [localhost]
TASK [Predeploy | Definir ssh_common_args padrão] ******************************
ok: [localhost]
TASK [Predeploy | Aplicar ProxyJump via bastion (quando necessário)] ***********
skipping: [localhost]
TASK [Predeploy | Registrar host dinâmico para sitef-02] ***********************
changed: [localhost]
TASK [Predeploy | Montar env final (package base + machine override)] **********
ok: [localhost]
TASK [Predeploy | Normalizações] ***********************************************
ok: [localhost]
TASK [Predeploy | Gerar run_id] ************************************************
ok: [localhost]
TASK [Predeploy | Definir arquivos/diretórios locais] **************************
ok: [localhost]
TASK [Predeploy | Definir paths lógicos (File Store) SEPARADOS POR STAGE] ******
ok: [localhost]
TASK [Predeploy | Garantir diretório de status local] **************************
changed: [localhost]
TASK [Predeploy | Garantir arquivo pipeline.log (cumulativo local)] ************
changed: [localhost]
TASK [Predeploy | Verificar se status.json já existe] **************************
ok: [localhost]
TASK [Predeploy | Ler status.json existente (se existir)] **********************
skipping: [localhost]
TASK [Predeploy | Parse do status existente (ou base vazio)] *******************
ok: [localhost]
TASK [Predeploy | Escrever status inicial (predeploy:queued) com history append] ***
changed: [localhost]
TASK [Predeploy | Definir diretórios remotos do pipeline] **********************
ok: [localhost]
TASK [Predeploy | Garantir base do pipeline no host] ***************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/components)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts/package)
TASK [Predeploy | Limpar pasta de scripts do pacote] ***************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Recriar pasta de scripts do pacote] **************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Copiar package.yml para o host] ******************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Garantir diretórios dos componentes no host] *****************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Baixar componentes do Nexus] *********************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Copiar scripts do pacote para o host] ************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Executar init_parallel.sh no host (com log + stdout)] ********
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Tail do init_parallel.log (sempre)] **************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Montar conteúdo do log (bloco predeploy)] ********************
ok: [localhost]
TASK [Predeploy | Append do bloco no pipeline.log (controller)] ****************
changed: [localhost]
TASK [Predeploy | Carregar conteúdo completo do pipeline.log (controller)] *****
ok: [localhost]
TASK [Predeploy | Ler status.json atual] ***************************************
ok: [localhost]
TASK [Predeploy | Parse do status atual] ***************************************
ok: [localhost]
TASK [Predeploy | Atualizar status final (append em history)] ******************
changed: [localhost]
TASK [Predeploy | Definir status_tag_value (tag usada no File Store)] **********
ok: [localhost]
TASK [Predeploy | Upload JSON + LOG para Harness File Store (sempre)] **********
included: /tmp/tmp.b0ap6bdHft/elastic-compute-cloud-sitef/ansible/harness_filestore_upload.yml for localhost
TASK [Harness | Validar vars mínimas] ******************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Harness | Definir defaults + normalizações (parte 1)] ********************
ok: [localhost]
TASK [Harness | Definir stage_label (parte 2)] *********************************
ok: [localhost]
TASK [Harness | Identifiers SAFE (HARNESS RULE: [A-Za-z][A-Za-z0-9_]{0,127})] ***
ok: [localhost]
TASK [Harness | Limitar machine_stage_identifier a 128 (se precisar)] **********
ok: [localhost]
TASK [Harness | Resolver token (vars > env)] ***********************************
ok: [localhost]
TASK [Harness | Debug seguro do token (não mostra valor)] **********************
ok: [localhost] => {
    "msg": "Harness token presente? True (len=72)"
}
TASK [Harness | Falhar se token vazio] *****************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Harness | Map token para header x-api-key (sem recursão)] ****************
ok: [localhost]
TASK [Harness | Falhar se token vazio (upload)] ********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Harness | Montar tags base] **********************************************
ok: [localhost]
TASK [Harness | Adicionar extra_tags como tag=...] *****************************
skipping: [localhost]
TASK [Harness | Definir http_codes aceitos] ************************************
ok: [localhost]
TASK [Harness | Render tags JSON] **********************************************
ok: [localhost]
TASK [Harness | Garantir folder ENV (POST) com debug] **************************
ok: [localhost]
TASK [Harness | DEBUG ENV (se falhar)] *****************************************
ok: [localhost]
TASK [Harness | Falhar ENV (com body)] *****************************************
fatal: [localhost]: FAILED! => {"changed": false, "msg": "Falha ao criar/garantir folder ENV no Harness.\nhttp_code=400\nbody={\"status\":\"ERROR\",\"code\":\"DUPLICATE_FIELD\",\"message\":\"Try another name, folder with name [dev] already exists in the parent folder [Root].\",\"correlationId\":\"ba8a66bc-7c69-4887-8aa8-8b94033c391b\",\"detailedMessage\":null,\"responseMessages\":[{\"code\":\"DUPLICATE_FIELD\",\"level\":\"ERROR\",\"message\":\"Try another name, folder with name [dev] already exists in the parent folder [Root].\",\"exception\":null,\"failureTypes\":[],\"additionalInfo\":{}}],\"metadata\":null}\n"}
PLAY RECAP *********************************************************************
localhost                  : ok=63   changed=11   unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
Command finished with status FAILURE
