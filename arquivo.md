Exec using JSCH
Connecting to 10.218.238.144 ....
Connection to 10.218.238.144 established
Executing command ...
export GIT_TAG=DEV000011
Clonando repo em /tmp/tmp.ZneeXlGbaf...
Cloning into '/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef'...
remote: Enumerating objects: 1015, done.
remote: Counting objects:   0% (1/965)
remote: Counting objects:   1% (10/965)
remote: Counting objects:   2% (20/965)
remote: Counting objects:   3% (29/965)
remote: Counting objects:   4% (39/965)
remote: Counting objects:   5% (49/965)
remote: Counting objects:   6% (58/965)
remote: Counting objects:   7% (68/965)
remote: Counting objects:   8% (78/965)
remote: Counting objects:   9% (87/965)
remote: Counting objects:  10% (97/965)
remote: Counting objects:  11% (107/965)
remote: Counting objects:  12% (116/965)
remote: Counting objects:  13% (126/965)
remote: Counting objects:  14% (136/965)
remote: Counting objects:  15% (145/965)
remote: Counting objects:  16% (155/965)
remote: Counting objects:  17% (165/965)
remote: Counting objects:  18% (174/965)
remote: Counting objects:  19% (184/965)
remote: Counting objects:  20% (193/965)
remote: Counting objects:  21% (203/965)
remote: Counting objects:  22% (213/965)
remote: Counting objects:  23% (222/965)
remote: Counting objects:  24% (232/965)
remote: Counting objects:  25% (242/965)
remote: Counting objects:  26% (251/965)
remote: Counting objects:  27% (261/965)
remote: Counting objects:  28% (271/965)
remote: Counting objects:  29% (280/965)
remote: Counting objects:  30% (290/965)
remote: Counting objects:  31% (300/965)
remote: Counting objects:  32% (309/965)
remote: Counting objects:  33% (319/965)
remote: Counting objects:  34% (329/965)
remote: Counting objects:  35% (338/965)
remote: Counting objects:  36% (348/965)
remote: Counting objects:  37% (358/965)
remote: Counting objects:  38% (367/965)
remote: Counting objects:  39% (377/965)
remote: Counting objects:  40% (386/965)
remote: Counting objects:  41% (396/965)
remote: Counting objects:  42% (406/965)
remote: Counting objects:  43% (415/965)
remote: Counting objects:  44% (425/965)
remote: Counting objects:  45% (435/965)
remote: Counting objects:  46% (444/965)
remote: Counting objects:  47% (454/965)
remote: Counting objects:  48% (464/965)
remote: Counting objects:  49% (473/965)
remote: Counting objects:  50% (483/965)
remote: Counting objects:  51% (493/965)
remote: Counting objects:  52% (502/965)
remote: Counting objects:  53% (512/965)
remote: Counting objects:  54% (522/965)
remote: Counting objects:  55% (531/965)
remote: Counting objects:  56% (541/965)
remote: Counting objects:  57% (551/965)
remote: Counting objects:  58% (560/965)
remote: Counting objects:  59% (570/965)
remote: Counting objects:  60% (579/965)
remote: Counting objects:  61% (589/965)
remote: Counting objects:  62% (599/965)
remote: Counting objects:  63% (608/965)
remote: Counting objects:  64% (618/965)
remote: Counting objects:  65% (628/965)
remote: Counting objects:  66% (637/965)
remote: Counting objects:  67% (647/965)
remote: Counting objects:  68% (657/965)
remote: Counting objects:  69% (666/965)
remote: Counting objects:  70% (676/965)
remote: Counting objects:  71% (686/965)
remote: Counting objects:  72% (695/965)
remote: Counting objects:  73% (705/965)
remote: Counting objects:  74% (715/965)
remote: Counting objects:  75% (724/965)
remote: Counting objects:  76% (734/965)
remote: Counting objects:  77% (744/965)
remote: Counting objects:  78% (753/965)
remote: Counting objects:  79% (763/965)
remote: Counting objects:  80% (772/965)
remote: Counting objects:  81% (782/965)
remote: Counting objects:  82% (792/965)
remote: Counting objects:  83% (801/965)
remote: Counting objects:  84% (811/965)
remote: Counting objects:  85% (821/965)
remote: Counting objects:  86% (830/965)
remote: Counting objects:  87% (840/965)
remote: Counting objects:  88% (850/965)
remote: Counting objects:  89% (859/965)
remote: Counting objects:  90% (869/965)
remote: Counting objects:  91% (879/965)
remote: Counting objects:  92% (888/965)
remote: Counting objects:  93% (898/965)
remote: Counting objects:  94% (908/965)
remote: Counting objects:  95% (917/965)
remote: Counting objects:  96% (927/965)
remote: Counting objects:  97% (937/965)
remote: Counting objects:  98% (946/965)
remote: Counting objects:  99% (956/965)
remote: Counting objects: 100% (965/965)
remote: Counting objects: 100% (965/965), done.
remote: Compressing objects:   0% (1/950)
remote: Compressing objects:   1% (10/950)
remote: Compressing objects:   2% (19/950)
remote: Compressing objects:   3% (29/950)
remote: Compressing objects:   4% (38/950)
remote: Compressing objects:   5% (48/950)
remote: Compressing objects:   6% (57/950)
remote: Compressing objects:   7% (67/950)
remote: Compressing objects:   8% (76/950)
remote: Compressing objects:   9% (86/950)
remote: Compressing objects:  10% (95/950)
remote: Compressing objects:  11% (105/950)
remote: Compressing objects:  12% (114/950)
remote: Compressing objects:  13% (124/950)
remote: Compressing objects:  14% (133/950)
remote: Compressing objects:  15% (143/950)
remote: Compressing objects:  16% (152/950)
remote: Compressing objects:  17% (162/950)
remote: Compressing objects:  18% (171/950)
remote: Compressing objects:  19% (181/950)
remote: Compressing objects:  20% (190/950)
remote: Compressing objects:  21% (200/950)
remote: Compressing objects:  22% (209/950)
remote: Compressing objects:  23% (219/950)
remote: Compressing objects:  24% (228/950)
remote: Compressing objects:  25% (238/950)
remote: Compressing objects:  26% (247/950)
remote: Compressing objects:  27% (257/950)
remote: Compressing objects:  28% (266/950)
remote: Compressing objects:  29% (276/950)
remote: Compressing objects:  30% (285/950)
remote: Compressing objects:  31% (295/950)
remote: Compressing objects:  32% (304/950)
remote: Compressing objects:  33% (314/950)
remote: Compressing objects:  34% (323/950)
remote: Compressing objects:  35% (333/950)
remote: Compressing objects:  36% (342/950)
remote: Compressing objects:  37% (352/950)
remote: Compressing objects:  38% (361/950)
remote: Compressing objects:  39% (371/950)
remote: Compressing objects:  40% (380/950)
remote: Compressing objects:  41% (390/950)
remote: Compressing objects:  42% (399/950)
remote: Compressing objects:  43% (409/950)
remote: Compressing objects:  44% (418/950)
remote: Compressing objects:  45% (428/950)
remote: Compressing objects:  46% (437/950)
remote: Compressing objects:  47% (447/950)
remote: Compressing objects:  48% (456/950)
remote: Compressing objects:  49% (466/950)
remote: Compressing objects:  50% (475/950)
remote: Compressing objects:  51% (485/950)
remote: Compressing objects:  52% (494/950)
remote: Compressing objects:  53% (504/950)
remote: Compressing objects:  54% (513/950)
remote: Compressing objects:  55% (523/950)
remote: Compressing objects:  56% (532/950)
remote: Compressing objects:  57% (542/950)
remote: Compressing objects:  58% (551/950)
remote: Compressing objects:  59% (561/950)
remote: Compressing objects:  60% (570/950)
remote: Compressing objects:  61% (580/950)
remote: Compressing objects:  62% (589/950)
remote: Compressing objects:  63% (599/950)
remote: Compressing objects:  64% (608/950)
remote: Compressing objects:  65% (618/950)
remote: Compressing objects:  66% (627/950)
remote: Compressing objects:  67% (637/950)
remote: Compressing objects:  68% (646/950)
remote: Compressing objects:  69% (656/950)
remote: Compressing objects:  70% (665/950)
remote: Compressing objects:  71% (675/950)
remote: Compressing objects:  72% (684/950)
remote: Compressing objects:  73% (694/950)
remote: Compressing objects:  74% (703/950)
remote: Compressing objects:  75% (713/950)
remote: Compressing objects:  76% (722/950)
remote: Compressing objects:  77% (732/950)
remote: Compressing objects:  78% (741/950)
remote: Compressing objects:  79% (751/950)
remote: Compressing objects:  80% (760/950)
remote: Compressing objects:  81% (770/950)
remote: Compressing objects:  82% (779/950)
remote: Compressing objects:  83% (789/950)
remote: Compressing objects:  84% (798/950)
remote: Compressing objects:  85% (808/950)
remote: Compressing objects:  86% (817/950)
remote: Compressing objects:  87% (827/950)
remote: Compressing objects:  88% (836/950)
remote: Compressing objects:  89% (846/950)
remote: Compressing objects:  90% (855/950)
remote: Compressing objects:  91% (865/950)
remote: Compressing objects:  92% (874/950)
remote: Compressing objects:  93% (884/950)
remote: Compressing objects:  94% (893/950)
remote: Compressing objects:  95% (903/950)
remote: Compressing objects:  96% (912/950)
remote: Compressing objects:  97% (922/950)
remote: Compressing objects:  98% (931/950)
remote: Compressing objects:  99% (941/950)
remote: Compressing objects: 100% (950/950)
remote: Compressing objects: 100% (950/950), done.
Receiving objects:   0% (1/1015)
Receiving objects:   1% (11/1015)
Receiving objects:   2% (21/1015)
Receiving objects:   3% (31/1015)
Receiving objects:   4% (41/1015)
Receiving objects:   5% (51/1015)
Receiving objects:   6% (61/1015)
Receiving objects:   7% (72/1015)
Receiving objects:   8% (82/1015)
Receiving objects:   9% (92/1015)
Receiving objects:  10% (102/1015)
Receiving objects:  11% (112/1015)
Receiving objects:  12% (122/1015)
Receiving objects:  13% (132/1015)
Receiving objects:  14% (143/1015)
Receiving objects:  15% (153/1015)
Receiving objects:  16% (163/1015)
Receiving objects:  17% (173/1015)
Receiving objects:  18% (183/1015)
Receiving objects:  19% (193/1015)
Receiving objects:  20% (203/1015)
Receiving objects:  21% (214/1015)
Receiving objects:  22% (224/1015)
Receiving objects:  23% (234/1015)
Receiving objects:  24% (244/1015)
Receiving objects:  25% (254/1015)
Receiving objects:  26% (264/1015)
Receiving objects:  27% (275/1015)
Receiving objects:  28% (285/1015)
Receiving objects:  29% (295/1015)
Receiving objects:  30% (305/1015)
Receiving objects:  31% (315/1015)
Receiving objects:  32% (325/1015)
Receiving objects:  33% (335/1015)
Receiving objects:  34% (346/1015)
Receiving objects:  35% (356/1015)
Receiving objects:  36% (366/1015)
Receiving objects:  37% (376/1015)
Receiving objects:  38% (386/1015)
Receiving objects:  39% (396/1015)
Receiving objects:  40% (406/1015)
Receiving objects:  41% (417/1015)
Receiving objects:  42% (427/1015)
Receiving objects:  43% (437/1015)
Receiving objects:  44% (447/1015)
Receiving objects:  45% (457/1015)
Receiving objects:  46% (467/1015)
Receiving objects:  47% (478/1015)
Receiving objects:  48% (488/1015)
Receiving objects:  49% (498/1015)
Receiving objects:  50% (508/1015)
Receiving objects:  51% (518/1015)
Receiving objects:  52% (528/1015)
Receiving objects:  53% (538/1015)
Receiving objects:  54% (549/1015)
Receiving objects:  55% (559/1015)
Receiving objects:  56% (569/1015)
Receiving objects:  57% (579/1015)
Receiving objects:  58% (589/1015)
Receiving objects:  59% (599/1015)
Receiving objects:  60% (609/1015)
Receiving objects:  61% (620/1015)
Receiving objects:  62% (630/1015)
Receiving objects:  63% (640/1015)
Receiving objects:  64% (650/1015)
Receiving objects:  65% (660/1015)
Receiving objects:  66% (670/1015)
Receiving objects:  67% (681/1015)
Receiving objects:  68% (691/1015)
Receiving objects:  69% (701/1015)
Receiving objects:  70% (711/1015)
Receiving objects:  71% (721/1015)
Receiving objects:  72% (731/1015)
Receiving objects:  73% (741/1015)
Receiving objects:  74% (752/1015)
Receiving objects:  75% (762/1015)
Receiving objects:  76% (772/1015)
Receiving objects:  77% (782/1015)
Receiving objects:  78% (792/1015)
Receiving objects:  79% (802/1015)
Receiving objects:  80% (812/1015)
Receiving objects:  81% (823/1015)
Receiving objects:  82% (833/1015)
Receiving objects:  83% (843/1015)
Receiving objects:  84% (853/1015)
remote: Total 1015 (delta 677), reused 0 (delta 0), pack-reused 50
Receiving objects:  85% (863/1015)
Receiving objects:  86% (873/1015)
Receiving objects:  87% (884/1015)
Receiving objects:  88% (894/1015)
Receiving objects:  89% (904/1015)
Receiving objects:  90% (914/1015)
Receiving objects:  91% (924/1015)
Receiving objects:  92% (934/1015)
Receiving objects:  93% (944/1015)
Receiving objects:  94% (955/1015)
Receiving objects:  95% (965/1015)
Receiving objects:  96% (975/1015)
Receiving objects:  97% (985/1015)
Receiving objects:  98% (995/1015)
Receiving objects:  99% (1005/1015)
Receiving objects: 100% (1015/1015)
Receiving objects: 100% (1015/1015), 958.28 KiB | 2.15 MiB/s, done.
Resolving deltas:   0% (0/696)
Resolving deltas:   1% (7/696)
Resolving deltas:   2% (14/696)
Resolving deltas:   3% (21/696)
Resolving deltas:   4% (28/696)
Resolving deltas:   5% (35/696)
Resolving deltas:   6% (42/696)
Resolving deltas:   7% (49/696)
Resolving deltas:   8% (56/696)
Resolving deltas:   9% (63/696)
Resolving deltas:  10% (70/696)
Resolving deltas:  11% (77/696)
Resolving deltas:  12% (84/696)
Resolving deltas:  13% (91/696)
Resolving deltas:  14% (98/696)
Resolving deltas:  15% (105/696)
Resolving deltas:  16% (112/696)
Resolving deltas:  17% (119/696)
Resolving deltas:  18% (126/696)
Resolving deltas:  19% (133/696)
Resolving deltas:  20% (140/696)
Resolving deltas:  21% (147/696)
Resolving deltas:  22% (154/696)
Resolving deltas:  23% (161/696)
Resolving deltas:  24% (168/696)
Resolving deltas:  25% (174/696)
Resolving deltas:  26% (181/696)
Resolving deltas:  27% (188/696)
Resolving deltas:  28% (195/696)
Resolving deltas:  29% (202/696)
Resolving deltas:  30% (209/696)
Resolving deltas:  31% (216/696)
Resolving deltas:  32% (223/696)
Resolving deltas:  33% (230/696)
Resolving deltas:  34% (237/696)
Resolving deltas:  35% (244/696)
Resolving deltas:  36% (251/696)
Resolving deltas:  37% (258/696)
Resolving deltas:  38% (265/696)
Resolving deltas:  39% (272/696)
Resolving deltas:  40% (279/696)
Resolving deltas:  41% (286/696)
Resolving deltas:  42% (293/696)
Resolving deltas:  43% (300/696)
Resolving deltas:  44% (307/696)
Resolving deltas:  45% (314/696)
Resolving deltas:  46% (321/696)
Resolving deltas:  47% (328/696)
Resolving deltas:  48% (335/696)
Resolving deltas:  49% (342/696)
Resolving deltas:  50% (348/696)
Resolving deltas:  51% (355/696)
Resolving deltas:  52% (363/696)
Resolving deltas:  53% (369/696)
Resolving deltas:  54% (376/696)
Resolving deltas:  55% (383/696)
Resolving deltas:  56% (390/696)
Resolving deltas:  57% (397/696)
Resolving deltas:  58% (404/696)
Resolving deltas:  59% (411/696)
Resolving deltas:  60% (418/696)
Resolving deltas:  61% (425/696)
Resolving deltas:  62% (432/696)
Resolving deltas:  63% (439/696)
Resolving deltas:  64% (446/696)
Resolving deltas:  65% (453/696)
Resolving deltas:  66% (460/696)
Resolving deltas:  67% (467/696)
Resolving deltas:  68% (474/696)
Resolving deltas:  69% (481/696)
Resolving deltas:  70% (488/696)
Resolving deltas:  71% (495/696)
Resolving deltas:  72% (502/696)
Resolving deltas:  73% (509/696)
Resolving deltas:  74% (516/696)
Resolving deltas:  75% (522/696)
Resolving deltas:  76% (529/696)
Resolving deltas:  77% (536/696)
Resolving deltas:  78% (543/696)
Resolving deltas:  79% (550/696)
Resolving deltas:  80% (557/696)
Resolving deltas:  81% (564/696)
Resolving deltas:  82% (571/696)
Resolving deltas:  83% (578/696)
Resolving deltas:  84% (585/696)
Resolving deltas:  85% (592/696)
Resolving deltas:  86% (599/696)
Resolving deltas:  87% (606/696)
Resolving deltas:  88% (613/696)
Resolving deltas:  89% (620/696)
Resolving deltas:  90% (627/696)
Resolving deltas:  91% (634/696)
Resolving deltas:  92% (641/696)
Resolving deltas:  93% (648/696)
Resolving deltas:  94% (655/696)
Resolving deltas:  95% (662/696)
Resolving deltas:  96% (669/696)
Resolving deltas:  97% (676/696)
Resolving deltas:  98% (683/696)
Resolving deltas:  99% (690/696)
Resolving deltas: 100% (696/696)
Resolving deltas: 100% (696/696), done.
== PIPELINE PREDEPLOY ==
TAG   : DEV000011
EXEC  : execution/machine_list_dev.yml
BRANCH: develop-testes
PLAY [Predeploy a partir do arquivo de execução] *******************************
TASK [Gathering Facts] *********************************************************
ok: [localhost]
TASK [Resolver filestore_env e filestore_base_dir sem recursão] ****************
ok: [localhost]
TASK [Mostrar variáveis de entrada e resolvidas] *******************************
ok: [localhost] => {
    "msg": [
        "execution_file_name_resolved = execution/machine_list_dev.yml",
        "deployment_ref_resolved      = DEV000011",
        "repo_root_resolved           = /tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/..",
        "status_dir_resolved          = /tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../status/DEV000011",
        "filestore_env_resolved       = dev",
        "filestore_base_dir_resolved  = dev/DEV000011",
        "nexus_base_url_resolved      = https://nexus-ci.onefiserv.net/repository/raw-apm0004548-dev"
    ]
}
TASK [Criar diretório de status da TAG] ****************************************
changed: [localhost]
TASK [Carregar arquivo de execução] ********************************************
ok: [localhost]
TASK [Falhar se não tiver máquinas no arquivo de execução] *********************
skipping: [localhost]
TASK [Executar pré-deploy por máquina] *****************************************
included: /tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/predeploy_per_machine.yml for localhost => (item=sitef-02)
TASK [Predeploy | Resolver nome da máquina atual] ******************************
ok: [localhost]
TASK [Predeploy | Validar vars mínimas] ****************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir paths base do repositório] ***************************
ok: [localhost]
TASK [Predeploy | Definir candidatos de arquivo da máquina] ********************
ok: [localhost]
TASK [Predeploy | Verificar candidatos] ****************************************
ok: [localhost] => (item=/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml)
TASK [Predeploy | Selecionar machine_file existente] ***************************
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'ansible_loop_var': 'item'}) 
ok: [localhost] => (item={'changed': False, 'stat': {'exists': True, 'path': '/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'mode': '0640', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 248, 'inode': 15835, 'dev': 64775, 'nlink': 1, 'atime': 1766608232.8225615, 'mtime': 1766608232.767561, 'ctime': 1766608232.767561, 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False, 'blocks': 8, 'block_size': 4096, 'device_type': 0, 'readable': True, 'writeable': True, 'executable': False, 'pw_name': 'ec2-user', 'gr_name': 'ec2-user', 'checksum': '005e3367129d5aefc77f49fd9fe62b4e58c51cd5', 'mimetype': 'text/plain', 'charset': 'us-ascii', 'version': '3127741528', 'attributes': [], 'attr_flags': ''}, 'invocation': {'module_args': {'path': '/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'ansible_loop_var': 'item'})
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
TASK [Predeploy | Falhar se arquivo da máquina não existir] ********************
skipping: [localhost]
TASK [Predeploy | Carregar config da máquina sitef-02] *************************
ok: [localhost]
TASK [Predeploy | Validar package definido] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Carregar config do pacote sitef-core-0.0.1-0] ****************
ok: [localhost]
TASK [Predeploy | Validar components do pacote] ********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Validar script do pacote] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir usuário alvo padrão] *********************************
ok: [localhost]
TASK [Predeploy | Definir ssh_common_args padrão] ******************************
ok: [localhost]
TASK [Predeploy | Aplicar ProxyJump via bastion (quando necessário)] ***********
skipping: [localhost]
TASK [Predeploy | Registrar host dinâmico para sitef-02] ***********************
changed: [localhost]
TASK [Predeploy | Montar env final (package base + machine override)] **********
ok: [localhost]
TASK [Predeploy | Normalizações] ***********************************************
ok: [localhost]
TASK [Predeploy | Gerar run_id] ************************************************
ok: [localhost]
TASK [Predeploy | Definir arquivos/diretórios locais] **************************
ok: [localhost]
TASK [Predeploy | Definir paths lógicos (File Store) SEPARADOS POR STAGE] ******
ok: [localhost]
TASK [Predeploy | Garantir diretório de status local] **************************
changed: [localhost]
TASK [Predeploy | Garantir arquivo pipeline.log (cumulativo local)] ************
changed: [localhost]
TASK [Predeploy | Verificar se status.json já existe] **************************
ok: [localhost]
TASK [Predeploy | Ler status.json existente (se existir)] **********************
skipping: [localhost]
TASK [Predeploy | Parse do status existente (ou base vazio)] *******************
ok: [localhost]
TASK [Predeploy | Escrever status inicial (predeploy:queued) com history append] ***
changed: [localhost]
TASK [Predeploy | Definir diretórios remotos do pipeline] **********************
ok: [localhost]
TASK [Predeploy | Garantir base do pipeline no host] ***************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/components)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts/package)
TASK [Predeploy | Limpar pasta de scripts do pacote] ***************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Recriar pasta de scripts do pacote] **************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Copiar package.yml para o host] ******************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Garantir diretórios dos componentes no host] *****************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Baixar componentes do Nexus] *********************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Copiar scripts do pacote para o host] ************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Executar init_parallel.sh no host (com log + stdout)] ********
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Tail do init_parallel.log (sempre)] **************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Montar conteúdo do log (bloco predeploy)] ********************
ok: [localhost]
TASK [Predeploy | Append do bloco no pipeline.log (controller)] ****************
changed: [localhost]
TASK [Predeploy | Carregar conteúdo completo do pipeline.log (controller)] *****
ok: [localhost]
TASK [Predeploy | Ler status.json atual] ***************************************
ok: [localhost]
TASK [Predeploy | Parse do status atual] ***************************************
ok: [localhost]
TASK [Predeploy | Atualizar status final (append em history)] ******************
changed: [localhost]
TASK [Predeploy | Upload JSON + LOG para Harness File Store (sempre)] **********
included: /tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/harness_filestore_upload.yml for localhost
TASK [Harness | Resolver base via ENV (parte 1)] *******************************
ok: [localhost]
TASK [Harness | Resolver base via ENV (parte 2)] *******************************
ok: [localhost]
TASK [Harness | Validar se pode fazer upload] **********************************
ok: [localhost]
TASK [Harness | DEBUG - variáveis principais] **********************************
ok: [localhost] => {
    "msg": [
        "hf_can_upload=True",
        "hf_endpoint=https://harness.onefiserv.net",
        "hf_account=fgDto6qoTT6ctfZS9eWbEw",
        "hf_org=Fiserv",
        "hf_project=sitef",
        "hf_deploy_ref=DEV000011",
        "hf_env=dev",
        "hf_stage=predeploy",
        "hf_machine=sitef-02",
        "pat_len=72",
        "hf_base_dir=dev/DEV000011"
    ]
}
TASK [Harness | Pular upload se faltar credenciais (NÃO falha aqui)] ***********
skipping: [localhost]
TASK [Harness | Resolver paths (log/status)] ***********************************
ok: [localhost]
TASK [Harness | Resolver nomes (a partir dos paths)] ***************************
ok: [localhost]
TASK [Harness | DEBUG - nomes finais (procure no File Store por isso)] *********
ok: [localhost] => {
    "msg": [
        "LOG_NAME=dev__DEV000011__dev000011-sitef-02-dev-predeploy.log",
        "STATUS_NAME=dev__DEV000011__dev000011-sitef-02-dev-predeploy.json"
    ]
}
TASK [Harness | Tags (lista)] **************************************************
ok: [localhost]
TASK [Harness | Tags (string)] *************************************************
ok: [localhost]
TASK [Harness | Temp dir (controller)] *****************************************
changed: [localhost]
TASK [Harness | Escrever LOG temp] *********************************************
changed: [localhost]
TASK [Harness | Definir diretório base de status (safe)] ***********************
ok: [localhost]
TASK [Harness | DEBUG - status root] *******************************************
ok: [localhost] => {
    "msg": [
        "hf_status_root=/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/ansible/../status/DEV000011"
    ]
}
TASK [Harness | Descobrir status.json local] ***********************************
ok: [localhost]
TASK [Harness | Escolher status.json mais recente (preferindo a máquina)] ******
ok: [localhost]
TASK [Harness | DEBUG - status escolhido] **************************************
ok: [localhost] => {
    "msg": [
        "hf_local_status_file=/tmp/tmp.ZneeXlGbaf/elastic-compute-cloud-sitef/status/DEV000011/sitef-02/status.json",
        "found=1"
    ]
}
TASK [Harness | Ler status.json (não falhar)] **********************************
ok: [localhost]
TASK [Harness | Escrever STATUS temp] ******************************************
changed: [localhost]
TASK [Harness | Upload LOG (DEBUG + FALHA se erro)] ****************************
ok: [localhost]
TASK [Harness | Validar LOG upload (falha se não 2xx)] *************************
skipping: [localhost]
TASK [Harness | Upload STATUS (DEBUG + FALHA se erro)] *************************
ok: [localhost]
TASK [Harness | Validar STATUS upload (falha se não 2xx)] **********************
skipping: [localhost]
TASK [Predeploy | Falhar se init_parallel.sh retornou erro (depois do upload)] ***
skipping: [localhost]
PLAY RECAP *********************************************************************
localhost                  : ok=67   changed=14   unreachable=0    failed=0    skipped=8    rescued=0    ignored=0   
Command finished with status SUCCESS
