Exec using JSCH
Connecting to 10.218.238.144 ....
Connection to 10.218.238.144 established
Executing command ...
export GIT_TAG=DEV000002
Clonando repo em /tmp/tmp.gHdKJ3tp8n...
Cloning into '/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef'...
remote: Enumerating objects: 1036, done.
remote: Counting objects:   0% (1/986)
remote: Counting objects:   1% (10/986)
remote: Counting objects:   2% (20/986)
remote: Counting objects:   3% (30/986)
remote: Counting objects:   4% (40/986)
remote: Counting objects:   5% (50/986)
remote: Counting objects:   6% (60/986)
remote: Counting objects:   7% (70/986)
remote: Counting objects:   8% (79/986)
remote: Counting objects:   9% (89/986)
remote: Counting objects:  10% (99/986)
remote: Counting objects:  11% (109/986)
remote: Counting objects:  12% (119/986)
remote: Counting objects:  13% (129/986)
remote: Counting objects:  14% (139/986)
remote: Counting objects:  15% (148/986)
remote: Counting objects:  16% (158/986)
remote: Counting objects:  17% (168/986)
remote: Counting objects:  18% (178/986)
remote: Counting objects:  19% (188/986)
remote: Counting objects:  20% (198/986)
remote: Counting objects:  21% (208/986)
remote: Counting objects:  22% (217/986)
remote: Counting objects:  23% (227/986)
remote: Counting objects:  24% (237/986)
remote: Counting objects:  25% (247/986)
remote: Counting objects:  26% (257/986)
remote: Counting objects:  27% (267/986)
remote: Counting objects:  28% (277/986)
remote: Counting objects:  29% (286/986)
remote: Counting objects:  30% (296/986)
remote: Counting objects:  31% (306/986)
remote: Counting objects:  32% (316/986)
remote: Counting objects:  33% (326/986)
remote: Counting objects:  34% (336/986)
remote: Counting objects:  35% (346/986)
remote: Counting objects:  36% (355/986)
remote: Counting objects:  37% (365/986)
remote: Counting objects:  38% (375/986)
remote: Counting objects:  39% (385/986)
remote: Counting objects:  40% (395/986)
remote: Counting objects:  41% (405/986)
remote: Counting objects:  42% (415/986)
remote: Counting objects:  43% (424/986)
remote: Counting objects:  44% (434/986)
remote: Counting objects:  45% (444/986)
remote: Counting objects:  46% (454/986)
remote: Counting objects:  47% (464/986)
remote: Counting objects:  48% (474/986)
remote: Counting objects:  49% (484/986)
remote: Counting objects:  50% (493/986)
remote: Counting objects:  51% (503/986)
remote: Counting objects:  52% (513/986)
remote: Counting objects:  53% (523/986)
remote: Counting objects:  54% (533/986)
remote: Counting objects:  55% (543/986)
remote: Counting objects:  56% (553/986)
remote: Counting objects:  57% (563/986)
remote: Counting objects:  58% (572/986)
remote: Counting objects:  59% (582/986)
remote: Counting objects:  60% (592/986)
remote: Counting objects:  61% (602/986)
remote: Counting objects:  62% (612/986)
remote: Counting objects:  63% (622/986)
remote: Counting objects:  64% (632/986)
remote: Counting objects:  65% (641/986)
remote: Counting objects:  66% (651/986)
remote: Counting objects:  67% (661/986)
remote: Counting objects:  68% (671/986)
remote: Counting objects:  69% (681/986)
remote: Counting objects:  70% (691/986)
remote: Counting objects:  71% (701/986)
remote: Counting objects:  72% (710/986)
remote: Counting objects:  73% (720/986)
remote: Counting objects:  74% (730/986)
remote: Counting objects:  75% (740/986)
remote: Counting objects:  76% (750/986)
remote: Counting objects:  77% (760/986)
remote: Counting objects:  78% (770/986)
remote: Counting objects:  79% (779/986)
remote: Counting objects:  80% (789/986)
remote: Counting objects:  81% (799/986)
remote: Counting objects:  82% (809/986)
remote: Counting objects:  83% (819/986)
remote: Counting objects:  84% (829/986)
remote: Counting objects:  85% (839/986)
remote: Counting objects:  86% (848/986)
remote: Counting objects:  87% (858/986)
remote: Counting objects:  88% (868/986)
remote: Counting objects:  89% (878/986)
remote: Counting objects:  90% (888/986)
remote: Counting objects:  91% (898/986)
remote: Counting objects:  92% (908/986)
remote: Counting objects:  93% (917/986)
remote: Counting objects:  94% (927/986)
remote: Counting objects:  95% (937/986)
remote: Counting objects:  96% (947/986)
remote: Counting objects:  97% (957/986)
remote: Counting objects:  98% (967/986)
remote: Counting objects:  99% (977/986)
remote: Counting objects: 100% (986/986)
remote: Counting objects: 100% (986/986), done.
remote: Compressing objects:   0% (1/971)
remote: Compressing objects:   1% (10/971)
remote: Compressing objects:   2% (20/971)
remote: Compressing objects:   3% (30/971)
remote: Compressing objects:   4% (39/971)
remote: Compressing objects:   5% (49/971)
remote: Compressing objects:   6% (59/971)
remote: Compressing objects:   7% (68/971)
remote: Compressing objects:   8% (78/971)
remote: Compressing objects:   9% (88/971)
remote: Compressing objects:  10% (98/971)
remote: Compressing objects:  11% (107/971)
remote: Compressing objects:  12% (117/971)
remote: Compressing objects:  13% (127/971)
remote: Compressing objects:  14% (136/971)
remote: Compressing objects:  15% (146/971)
remote: Compressing objects:  16% (156/971)
remote: Compressing objects:  17% (166/971)
remote: Compressing objects:  18% (175/971)
remote: Compressing objects:  19% (185/971)
remote: Compressing objects:  20% (195/971)
remote: Compressing objects:  21% (204/971)
remote: Compressing objects:  22% (214/971)
remote: Compressing objects:  23% (224/971)
remote: Compressing objects:  24% (234/971)
remote: Compressing objects:  25% (243/971)
remote: Compressing objects:  26% (253/971)
remote: Compressing objects:  27% (263/971)
remote: Compressing objects:  28% (272/971)
remote: Compressing objects:  29% (282/971)
remote: Compressing objects:  30% (292/971)
remote: Compressing objects:  31% (302/971)
remote: Compressing objects:  32% (311/971)
remote: Compressing objects:  33% (321/971)
remote: Compressing objects:  34% (331/971)
remote: Compressing objects:  35% (340/971)
remote: Compressing objects:  36% (350/971)
remote: Compressing objects:  37% (360/971)
remote: Compressing objects:  38% (369/971)
remote: Compressing objects:  39% (379/971)
remote: Compressing objects:  40% (389/971)
remote: Compressing objects:  41% (399/971)
remote: Compressing objects:  42% (408/971)
remote: Compressing objects:  43% (418/971)
remote: Compressing objects:  44% (428/971)
remote: Compressing objects:  45% (437/971)
remote: Compressing objects:  46% (447/971)
remote: Compressing objects:  47% (457/971)
remote: Compressing objects:  48% (467/971)
remote: Compressing objects:  49% (476/971)
remote: Compressing objects:  50% (486/971)
remote: Compressing objects:  51% (496/971)
remote: Compressing objects:  52% (505/971)
remote: Compressing objects:  53% (515/971)
remote: Compressing objects:  54% (525/971)
remote: Compressing objects:  55% (535/971)
remote: Compressing objects:  56% (544/971)
remote: Compressing objects:  57% (554/971)
remote: Compressing objects:  58% (564/971)
remote: Compressing objects:  59% (573/971)
remote: Compressing objects:  60% (583/971)
remote: Compressing objects:  61% (593/971)
remote: Compressing objects:  62% (603/971)
remote: Compressing objects:  63% (612/971)
remote: Compressing objects:  64% (622/971)
remote: Compressing objects:  65% (632/971)
remote: Compressing objects:  66% (641/971)
remote: Compressing objects:  67% (651/971)
remote: Compressing objects:  68% (661/971)
remote: Compressing objects:  69% (670/971)
remote: Compressing objects:  70% (680/971)
remote: Compressing objects:  71% (690/971)
remote: Compressing objects:  72% (700/971)
remote: Compressing objects:  73% (709/971)
remote: Compressing objects:  74% (719/971)
remote: Compressing objects:  75% (729/971)
remote: Compressing objects:  76% (738/971)
remote: Compressing objects:  77% (748/971)
remote: Compressing objects:  78% (758/971)
remote: Compressing objects:  79% (768/971)
remote: Compressing objects:  80% (777/971)
remote: Compressing objects:  81% (787/971)
remote: Compressing objects:  82% (797/971)
remote: Compressing objects:  83% (806/971)
remote: Compressing objects:  84% (816/971)
remote: Compressing objects:  85% (826/971)
remote: Compressing objects:  86% (836/971)
remote: Compressing objects:  87% (845/971)
remote: Compressing objects:  88% (855/971)
remote: Compressing objects:  89% (865/971)
remote: Compressing objects:  90% (874/971)
remote: Compressing objects:  91% (884/971)
remote: Compressing objects:  92% (894/971)
remote: Compressing objects:  93% (904/971)
remote: Compressing objects:  94% (913/971)
remote: Compressing objects:  95% (923/971)
remote: Compressing objects:  96% (933/971)
remote: Compressing objects:  97% (942/971)
remote: Compressing objects:  98% (952/971)
remote: Compressing objects:  99% (962/971)
remote: Compressing objects: 100% (971/971)
remote: Compressing objects: 100% (971/971), done.
Receiving objects:   0% (1/1036)
Receiving objects:   1% (11/1036)
Receiving objects:   2% (21/1036)
Receiving objects:   3% (32/1036)
Receiving objects:   4% (42/1036)
Receiving objects:   5% (52/1036)
Receiving objects:   6% (63/1036)
Receiving objects:   7% (73/1036)
Receiving objects:   8% (83/1036)
Receiving objects:   9% (94/1036)
Receiving objects:  10% (104/1036)
Receiving objects:  11% (114/1036)
Receiving objects:  12% (125/1036)
Receiving objects:  13% (135/1036)
Receiving objects:  14% (146/1036)
Receiving objects:  15% (156/1036)
Receiving objects:  16% (166/1036)
Receiving objects:  17% (177/1036)
Receiving objects:  18% (187/1036)
Receiving objects:  19% (197/1036)
Receiving objects:  20% (208/1036)
Receiving objects:  21% (218/1036)
Receiving objects:  22% (228/1036)
Receiving objects:  23% (239/1036)
Receiving objects:  24% (249/1036)
Receiving objects:  25% (259/1036)
Receiving objects:  26% (270/1036)
Receiving objects:  27% (280/1036)
Receiving objects:  28% (291/1036)
Receiving objects:  29% (301/1036)
Receiving objects:  30% (311/1036)
Receiving objects:  31% (322/1036)
Receiving objects:  32% (332/1036)
Receiving objects:  33% (342/1036)
Receiving objects:  34% (353/1036)
Receiving objects:  35% (363/1036)
Receiving objects:  36% (373/1036)
Receiving objects:  37% (384/1036)
Receiving objects:  38% (394/1036)
Receiving objects:  39% (405/1036)
Receiving objects:  40% (415/1036)
Receiving objects:  41% (425/1036)
Receiving objects:  42% (436/1036)
Receiving objects:  43% (446/1036)
Receiving objects:  44% (456/1036)
Receiving objects:  45% (467/1036)
Receiving objects:  46% (477/1036)
Receiving objects:  47% (487/1036)
Receiving objects:  48% (498/1036)
Receiving objects:  49% (508/1036)
Receiving objects:  50% (518/1036)
Receiving objects:  51% (529/1036)
Receiving objects:  52% (539/1036)
Receiving objects:  53% (550/1036)
Receiving objects:  54% (560/1036)
Receiving objects:  55% (570/1036)
Receiving objects:  56% (581/1036)
Receiving objects:  57% (591/1036)
Receiving objects:  58% (601/1036)
Receiving objects:  59% (612/1036)
Receiving objects:  60% (622/1036)
Receiving objects:  61% (632/1036)
Receiving objects:  62% (643/1036)
Receiving objects:  63% (653/1036)
Receiving objects:  64% (664/1036)
Receiving objects:  65% (674/1036)
Receiving objects:  66% (684/1036)
Receiving objects:  67% (695/1036)
Receiving objects:  68% (705/1036)
Receiving objects:  69% (715/1036)
Receiving objects:  70% (726/1036)
Receiving objects:  71% (736/1036)
Receiving objects:  72% (746/1036)
Receiving objects:  73% (757/1036)
Receiving objects:  74% (767/1036)
Receiving objects:  75% (777/1036)
Receiving objects:  76% (788/1036)
Receiving objects:  77% (798/1036)
Receiving objects:  78% (809/1036)
Receiving objects:  79% (819/1036)
Receiving objects:  80% (829/1036)
Receiving objects:  81% (840/1036)
Receiving objects:  82% (850/1036)
Receiving objects:  83% (860/1036)
remote: Total 1036 (delta 696), reused 0 (delta 0), pack-reused 50
Receiving objects:  84% (871/1036)
Receiving objects:  85% (881/1036)
Receiving objects:  86% (891/1036)
Receiving objects:  87% (902/1036)
Receiving objects:  88% (912/1036)
Receiving objects:  89% (923/1036)
Receiving objects:  90% (933/1036)
Receiving objects:  91% (943/1036)
Receiving objects:  92% (954/1036)
Receiving objects:  93% (964/1036)
Receiving objects:  94% (974/1036)
Receiving objects:  95% (985/1036)
Receiving objects:  96% (995/1036)
Receiving objects:  97% (1005/1036)
Receiving objects:  98% (1016/1036)
Receiving objects:  99% (1026/1036)
Receiving objects: 100% (1036/1036)
Receiving objects: 100% (1036/1036), 967.68 KiB | 1.93 MiB/s, done.
Resolving deltas:   0% (0/715)
Resolving deltas:   1% (8/715)
Resolving deltas:   2% (15/715)
Resolving deltas:   3% (22/715)
Resolving deltas:   4% (29/715)
Resolving deltas:   5% (36/715)
Resolving deltas:   6% (43/715)
Resolving deltas:   7% (51/715)
Resolving deltas:   8% (58/715)
Resolving deltas:   9% (65/715)
Resolving deltas:  10% (72/715)
Resolving deltas:  11% (79/715)
Resolving deltas:  12% (86/715)
Resolving deltas:  13% (93/715)
Resolving deltas:  14% (101/715)
Resolving deltas:  15% (108/715)
Resolving deltas:  16% (115/715)
Resolving deltas:  17% (122/715)
Resolving deltas:  18% (129/715)
Resolving deltas:  19% (136/715)
Resolving deltas:  20% (143/715)
Resolving deltas:  21% (151/715)
Resolving deltas:  22% (158/715)
Resolving deltas:  23% (165/715)
Resolving deltas:  24% (172/715)
Resolving deltas:  25% (179/715)
Resolving deltas:  26% (186/715)
Resolving deltas:  27% (194/715)
Resolving deltas:  28% (201/715)
Resolving deltas:  29% (208/715)
Resolving deltas:  30% (215/715)
Resolving deltas:  31% (222/715)
Resolving deltas:  32% (229/715)
Resolving deltas:  33% (236/715)
Resolving deltas:  34% (244/715)
Resolving deltas:  35% (251/715)
Resolving deltas:  36% (258/715)
Resolving deltas:  37% (265/715)
Resolving deltas:  38% (272/715)
Resolving deltas:  39% (279/715)
Resolving deltas:  40% (286/715)
Resolving deltas:  41% (294/715)
Resolving deltas:  42% (301/715)
Resolving deltas:  43% (308/715)
Resolving deltas:  44% (315/715)
Resolving deltas:  45% (322/715)
Resolving deltas:  46% (329/715)
Resolving deltas:  47% (337/715)
Resolving deltas:  48% (344/715)
Resolving deltas:  49% (351/715)
Resolving deltas:  50% (358/715)
Resolving deltas:  51% (366/715)
Resolving deltas:  52% (372/715)
Resolving deltas:  53% (379/715)
Resolving deltas:  54% (387/715)
Resolving deltas:  55% (394/715)
Resolving deltas:  56% (401/715)
Resolving deltas:  57% (408/715)
Resolving deltas:  58% (415/715)
Resolving deltas:  59% (422/715)
Resolving deltas:  60% (429/715)
Resolving deltas:  61% (437/715)
Resolving deltas:  62% (445/715)
Resolving deltas:  63% (451/715)
Resolving deltas:  64% (458/715)
Resolving deltas:  65% (465/715)
Resolving deltas:  66% (472/715)
Resolving deltas:  67% (480/715)
Resolving deltas:  68% (487/715)
Resolving deltas:  69% (494/715)
Resolving deltas:  70% (501/715)
Resolving deltas:  71% (508/715)
Resolving deltas:  72% (515/715)
Resolving deltas:  73% (522/715)
Resolving deltas:  74% (530/715)
Resolving deltas:  75% (537/715)
Resolving deltas:  76% (544/715)
Resolving deltas:  77% (551/715)
Resolving deltas:  78% (559/715)
Resolving deltas:  79% (565/715)
Resolving deltas:  80% (572/715)
Resolving deltas:  81% (580/715)
Resolving deltas:  82% (587/715)
Resolving deltas:  83% (594/715)
Resolving deltas:  84% (601/715)
Resolving deltas:  85% (608/715)
Resolving deltas:  86% (615/715)
Resolving deltas:  87% (623/715)
Resolving deltas:  88% (630/715)
Resolving deltas:  89% (637/715)
Resolving deltas:  90% (644/715)
Resolving deltas:  91% (651/715)
Resolving deltas:  92% (658/715)
Resolving deltas:  93% (665/715)
Resolving deltas:  94% (673/715)
Resolving deltas:  95% (680/715)
Resolving deltas:  96% (687/715)
Resolving deltas:  97% (694/715)
Resolving deltas:  98% (701/715)
Resolving deltas:  99% (708/715)
Resolving deltas: 100% (715/715)
Resolving deltas: 100% (715/715), done.
== PIPELINE PREDEPLOY ==
TAG   : DEV000002
EXEC  : execution/machine_list_dev.yml
BRANCH: develop-testes
PLAY [Predeploy a partir do arquivo de execução] *******************************
TASK [Gathering Facts] *********************************************************
ok: [localhost]
TASK [Resolver filestore_env e filestore_base_dir sem recursão] ****************
ok: [localhost]
TASK [Mostrar variáveis de entrada e resolvidas] *******************************
ok: [localhost] => {
    "msg": [
        "execution_file_name_resolved = execution/machine_list_dev.yml",
        "deployment_ref_resolved      = DEV000002",
        "repo_root_resolved           = /tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/..",
        "status_dir_resolved          = /tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../status/DEV000002",
        "filestore_env_resolved       = dev",
        "filestore_base_dir_resolved  = dev/DEV000002",
        "nexus_base_url_resolved      = https://nexus-ci.onefiserv.net/repository/raw-apm0004548-dev"
    ]
}
TASK [Criar diretório de status da TAG] ****************************************
changed: [localhost]
TASK [Carregar arquivo de execução] ********************************************
ok: [localhost]
TASK [Falhar se não tiver máquinas no arquivo de execução] *********************
skipping: [localhost]
TASK [Executar pré-deploy por máquina] *****************************************
included: /tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/predeploy_per_machine.yml for localhost => (item=sitef-02)
TASK [Predeploy | Resolver nome da máquina atual] ******************************
ok: [localhost]
TASK [Predeploy | Validar vars mínimas] ****************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir paths base do repositório] ***************************
ok: [localhost]
TASK [Predeploy | Definir candidatos de arquivo da máquina] ********************
ok: [localhost]
TASK [Predeploy | Verificar candidatos] ****************************************
ok: [localhost] => (item=/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml)
TASK [Predeploy | Selecionar machine_file existente] ***************************
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'ansible_loop_var': 'item'}) 
ok: [localhost] => (item={'changed': False, 'stat': {'exists': True, 'path': '/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'mode': '0640', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 248, 'inode': 15836, 'dev': 64775, 'nlink': 1, 'atime': 1766610481.642067, 'mtime': 1766610481.642067, 'ctime': 1766610481.642067, 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False, 'blocks': 8, 'block_size': 4096, 'device_type': 0, 'readable': True, 'writeable': True, 'executable': False, 'pw_name': 'ec2-user', 'gr_name': 'ec2-user', 'checksum': '005e3367129d5aefc77f49fd9fe62b4e58c51cd5', 'mimetype': 'text/plain', 'charset': 'us-ascii', 'version': '2542564050', 'attributes': [], 'attr_flags': ''}, 'invocation': {'module_args': {'path': '/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'ansible_loop_var': 'item'})
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
TASK [Predeploy | Falhar se arquivo da máquina não existir] ********************
skipping: [localhost]
TASK [Predeploy | Carregar config da máquina sitef-02] *************************
ok: [localhost]
TASK [Predeploy | Validar package definido] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Carregar config do pacote sitef-core-0.0.1-0] ****************
ok: [localhost]
TASK [Predeploy | Validar components do pacote] ********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Validar script do pacote] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir usuário alvo padrão] *********************************
ok: [localhost]
TASK [Predeploy | Definir ssh_common_args padrão] ******************************
ok: [localhost]
TASK [Predeploy | Aplicar ProxyJump via bastion (quando necessário)] ***********
skipping: [localhost]
TASK [Predeploy | Registrar host dinâmico para sitef-02] ***********************
changed: [localhost]
TASK [Predeploy | Montar env final (package base + machine override)] **********
ok: [localhost]
TASK [Predeploy | Normalizações] ***********************************************
ok: [localhost]
TASK [Predeploy | Gerar run_id] ************************************************
ok: [localhost]
TASK [Predeploy | Definir arquivos/diretórios locais] **************************
ok: [localhost]
TASK [Predeploy | Definir paths lógicos (File Store) SEPARADOS POR STAGE] ******
ok: [localhost]
TASK [Predeploy | Garantir diretório de status local] **************************
changed: [localhost]
TASK [Predeploy | Garantir arquivo pipeline.log (cumulativo local)] ************
changed: [localhost]
TASK [Predeploy | Verificar se status.json já existe] **************************
ok: [localhost]
TASK [Predeploy | Ler status.json existente (se existir)] **********************
skipping: [localhost]
TASK [Predeploy | Parse do status existente (ou base vazio)] *******************
ok: [localhost]
TASK [Predeploy | Escrever status inicial (predeploy:queued) com history append] ***
changed: [localhost]
TASK [Predeploy | Definir diretórios remotos do pipeline] **********************
ok: [localhost]
TASK [Predeploy | Garantir base do pipeline no host] ***************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/components)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts/package)
TASK [Predeploy | Limpar pasta de scripts do pacote] ***************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Recriar pasta de scripts do pacote] **************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Copiar package.yml para o host] ******************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Garantir diretórios dos componentes no host] *****************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Baixar componentes do Nexus] *********************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Copiar scripts do pacote para o host] ************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Executar init_parallel.sh no host (com log + stdout)] ********
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Tail do init_parallel.log (sempre)] **************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Montar conteúdo do log (bloco predeploy)] ********************
ok: [localhost]
TASK [Predeploy | Append do bloco no pipeline.log (controller)] ****************
changed: [localhost]
TASK [Predeploy | Carregar conteúdo completo do pipeline.log (controller)] *****
ok: [localhost]
TASK [Predeploy | Ler status.json atual] ***************************************
ok: [localhost]
TASK [Predeploy | Parse do status atual] ***************************************
ok: [localhost]
TASK [Predeploy | Atualizar status final (append em history)] ******************
changed: [localhost]
TASK [Predeploy | Upload JSON + LOG para Harness File Store (sempre)] **********
included: /tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/harness_filestore_upload.yml for localhost
TASK [Harness | Resolver variáveis base via ENV (com fallback)] ****************
ok: [localhost]
TASK [Harness | Definir contexto (deploy/env/stage/machine)] *******************
ok: [localhost]
TASK [Harness | Validar se pode tentar upload] *********************************
ok: [localhost]
TASK [Harness | DEBUG - variáveis principais] **********************************
ok: [localhost] => {
    "msg": [
        "hf_can_upload=True",
        "hf_endpoint=https://harness.onefiserv.net",
        "hf_account=fgDto6qoTT6ctfZS9eWbEw",
        "hf_org=Fiserv",
        "hf_project=sitef",
        "hf_deploy_ref=DEV000002",
        "hf_env=dev",
        "hf_stage=predeploy",
        "hf_machine=sitef-02",
        "hf_parent=Root",
        "pat_len=72"
    ]
}
TASK [Harness | Se não puder upload, só avisar e sair] *************************
skipping: [localhost]
TASK [Harness | Resolver arquivos locais recebidos (sem recursão)] *************
ok: [localhost]
TASK [Harness | Se log não foi passado, derivar do diretório do status.json] ***
ok: [localhost]
TASK [Harness | Stat status.json / pipeline.log] *******************************
ok: [localhost] => (item=/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../status/DEV000002/sitef-02/status.json)
ok: [localhost] => (item=/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/../status/DEV000002/sitef-02/pipeline.log)
TASK [Harness | Resolver existências] ******************************************
ok: [localhost]
TASK [Harness | Criar tmp dir (controller)] ************************************
changed: [localhost]
TASK [Harness | Preparar arquivo STATUS para upload (se existir)] **************
changed: [localhost]
TASK [Harness | Se pipeline.log existir, copiar] *******************************
changed: [localhost]
TASK [Harness | Se pipeline.log NÃO existir, criar via log_content] ************
skipping: [localhost]
TASK [Harness | Calcular nomes/identifiers] ************************************
fatal: [localhost]: FAILED! => {"msg": "The task includes an option with an undefined variable. The error was: 'hf_run_id' is undefined. 'hf_run_id' is undefined\n\nThe error appears to be in '/tmp/tmp.gHdKJ3tp8n/elastic-compute-cloud-sitef/ansible/harness_filestore_upload.yml': line 147, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: Harness | Calcular nomes/identifiers\n  ^ here\n"}
PLAY RECAP *********************************************************************
localhost                  : ok=58   changed=14   unreachable=0    failed=1    skipped=6    rescued=0    ignored=0   
Command finished with status FAILURE
