Exec using JSCH
Connecting to 10.218.238.144 ....
Connection to 10.218.238.144 established
Executing command ...
export GIT_TAG=DEV000002
Clonando repo em /tmp/tmp.WAKFIO72Ew...
Cloning into '/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef'...
remote: Enumerating objects: 1031, done.
remote: Counting objects:   0% (1/981)
remote: Counting objects:   1% (10/981)
remote: Counting objects:   2% (20/981)
remote: Counting objects:   3% (30/981)
remote: Counting objects:   4% (40/981)
remote: Counting objects:   5% (50/981)
remote: Counting objects:   6% (59/981)
remote: Counting objects:   7% (69/981)
remote: Counting objects:   8% (79/981)
remote: Counting objects:   9% (89/981)
remote: Counting objects:  10% (99/981)
remote: Counting objects:  11% (108/981)
remote: Counting objects:  12% (118/981)
remote: Counting objects:  13% (128/981)
remote: Counting objects:  14% (138/981)
remote: Counting objects:  15% (148/981)
remote: Counting objects:  16% (157/981)
remote: Counting objects:  17% (167/981)
remote: Counting objects:  18% (177/981)
remote: Counting objects:  19% (187/981)
remote: Counting objects:  20% (197/981)
remote: Counting objects:  21% (207/981)
remote: Counting objects:  22% (216/981)
remote: Counting objects:  23% (226/981)
remote: Counting objects:  24% (236/981)
remote: Counting objects:  25% (246/981)
remote: Counting objects:  26% (256/981)
remote: Counting objects:  27% (265/981)
remote: Counting objects:  28% (275/981)
remote: Counting objects:  29% (285/981)
remote: Counting objects:  30% (295/981)
remote: Counting objects:  31% (305/981)
remote: Counting objects:  32% (314/981)
remote: Counting objects:  33% (324/981)
remote: Counting objects:  34% (334/981)
remote: Counting objects:  35% (344/981)
remote: Counting objects:  36% (354/981)
remote: Counting objects:  37% (363/981)
remote: Counting objects:  38% (373/981)
remote: Counting objects:  39% (383/981)
remote: Counting objects:  40% (393/981)
remote: Counting objects:  41% (403/981)
remote: Counting objects:  42% (413/981)
remote: Counting objects:  43% (422/981)
remote: Counting objects:  44% (432/981)
remote: Counting objects:  45% (442/981)
remote: Counting objects:  46% (452/981)
remote: Counting objects:  47% (462/981)
remote: Counting objects:  48% (471/981)
remote: Counting objects:  49% (481/981)
remote: Counting objects:  50% (491/981)
remote: Counting objects:  51% (501/981)
remote: Counting objects:  52% (511/981)
remote: Counting objects:  53% (520/981)
remote: Counting objects:  54% (530/981)
remote: Counting objects:  55% (540/981)
remote: Counting objects:  56% (550/981)
remote: Counting objects:  57% (560/981)
remote: Counting objects:  58% (569/981)
remote: Counting objects:  59% (579/981)
remote: Counting objects:  60% (589/981)
remote: Counting objects:  61% (599/981)
remote: Counting objects:  62% (609/981)
remote: Counting objects:  63% (619/981)
remote: Counting objects:  64% (628/981)
remote: Counting objects:  65% (638/981)
remote: Counting objects:  66% (648/981)
remote: Counting objects:  67% (658/981)
remote: Counting objects:  68% (668/981)
remote: Counting objects:  69% (677/981)
remote: Counting objects:  70% (687/981)
remote: Counting objects:  71% (697/981)
remote: Counting objects:  72% (707/981)
remote: Counting objects:  73% (717/981)
remote: Counting objects:  74% (726/981)
remote: Counting objects:  75% (736/981)
remote: Counting objects:  76% (746/981)
remote: Counting objects:  77% (756/981)
remote: Counting objects:  78% (766/981)
remote: Counting objects:  79% (775/981)
remote: Counting objects:  80% (785/981)
remote: Counting objects:  81% (795/981)
remote: Counting objects:  82% (805/981)
remote: Counting objects:  83% (815/981)
remote: Counting objects:  84% (825/981)
remote: Counting objects:  85% (834/981)
remote: Counting objects:  86% (844/981)
remote: Counting objects:  87% (854/981)
remote: Counting objects:  88% (864/981)
remote: Counting objects:  89% (874/981)
remote: Counting objects:  90% (883/981)
remote: Counting objects:  91% (893/981)
remote: Counting objects:  92% (903/981)
remote: Counting objects:  93% (913/981)
remote: Counting objects:  94% (923/981)
remote: Counting objects:  95% (932/981)
remote: Counting objects:  96% (942/981)
remote: Counting objects:  97% (952/981)
remote: Counting objects:  98% (962/981)
remote: Counting objects:  99% (972/981)
remote: Counting objects: 100% (981/981)
remote: Counting objects: 100% (981/981), done.
remote: Compressing objects:   0% (1/966)
remote: Compressing objects:   1% (10/966)
remote: Compressing objects:   2% (20/966)
remote: Compressing objects:   3% (29/966)
remote: Compressing objects:   4% (39/966)
remote: Compressing objects:   5% (49/966)
remote: Compressing objects:   6% (58/966)
remote: Compressing objects:   7% (68/966)
remote: Compressing objects:   8% (78/966)
remote: Compressing objects:   9% (87/966)
remote: Compressing objects:  10% (97/966)
remote: Compressing objects:  11% (107/966)
remote: Compressing objects:  12% (116/966)
remote: Compressing objects:  13% (126/966)
remote: Compressing objects:  14% (136/966)
remote: Compressing objects:  15% (145/966)
remote: Compressing objects:  16% (155/966)
remote: Compressing objects:  17% (165/966)
remote: Compressing objects:  18% (174/966)
remote: Compressing objects:  19% (184/966)
remote: Compressing objects:  20% (194/966)
remote: Compressing objects:  21% (203/966)
remote: Compressing objects:  22% (213/966)
remote: Compressing objects:  23% (223/966)
remote: Compressing objects:  24% (232/966)
remote: Compressing objects:  25% (242/966)
remote: Compressing objects:  26% (252/966)
remote: Compressing objects:  27% (261/966)
remote: Compressing objects:  28% (271/966)
remote: Compressing objects:  29% (281/966)
remote: Compressing objects:  30% (290/966)
remote: Compressing objects:  31% (300/966)
remote: Compressing objects:  32% (310/966)
remote: Compressing objects:  33% (319/966)
remote: Compressing objects:  34% (329/966)
remote: Compressing objects:  35% (339/966)
remote: Compressing objects:  36% (348/966)
remote: Compressing objects:  37% (358/966)
remote: Compressing objects:  38% (368/966)
remote: Compressing objects:  39% (377/966)
remote: Compressing objects:  40% (387/966)
remote: Compressing objects:  41% (397/966)
remote: Compressing objects:  42% (406/966)
remote: Compressing objects:  43% (416/966)
remote: Compressing objects:  44% (426/966)
remote: Compressing objects:  45% (435/966)
remote: Compressing objects:  46% (445/966)
remote: Compressing objects:  47% (455/966)
remote: Compressing objects:  48% (464/966)
remote: Compressing objects:  49% (474/966)
remote: Compressing objects:  50% (483/966)
remote: Compressing objects:  51% (493/966)
remote: Compressing objects:  52% (503/966)
remote: Compressing objects:  53% (512/966)
remote: Compressing objects:  54% (522/966)
remote: Compressing objects:  55% (532/966)
remote: Compressing objects:  56% (541/966)
remote: Compressing objects:  57% (551/966)
remote: Compressing objects:  58% (561/966)
remote: Compressing objects:  59% (570/966)
remote: Compressing objects:  60% (580/966)
remote: Compressing objects:  61% (590/966)
remote: Compressing objects:  62% (599/966)
remote: Compressing objects:  63% (609/966)
remote: Compressing objects:  64% (619/966)
remote: Compressing objects:  65% (628/966)
remote: Compressing objects:  66% (638/966)
remote: Compressing objects:  67% (648/966)
remote: Compressing objects:  68% (657/966)
remote: Compressing objects:  69% (667/966)
remote: Compressing objects:  70% (677/966)
remote: Compressing objects:  71% (686/966)
remote: Compressing objects:  72% (696/966)
remote: Compressing objects:  73% (706/966)
remote: Compressing objects:  74% (715/966)
remote: Compressing objects:  75% (725/966)
remote: Compressing objects:  76% (735/966)
remote: Compressing objects:  77% (744/966)
remote: Compressing objects:  78% (754/966)
remote: Compressing objects:  79% (764/966)
remote: Compressing objects:  80% (773/966)
remote: Compressing objects:  81% (783/966)
remote: Compressing objects:  82% (793/966)
remote: Compressing objects:  83% (802/966)
remote: Compressing objects:  84% (812/966)
remote: Compressing objects:  85% (822/966)
remote: Compressing objects:  86% (831/966)
remote: Compressing objects:  87% (841/966)
remote: Compressing objects:  88% (851/966)
remote: Compressing objects:  89% (860/966)
remote: Compressing objects:  90% (870/966)
remote: Compressing objects:  91% (880/966)
remote: Compressing objects:  92% (889/966)
remote: Compressing objects:  93% (899/966)
remote: Compressing objects:  94% (909/966)
remote: Compressing objects:  95% (918/966)
remote: Compressing objects:  96% (928/966)
remote: Compressing objects:  97% (938/966)
remote: Compressing objects:  98% (947/966)
remote: Compressing objects:  99% (957/966)
remote: Compressing objects: 100% (966/966)
remote: Compressing objects: 100% (966/966), done.
Receiving objects:   0% (1/1031)
Receiving objects:   1% (11/1031)
Receiving objects:   2% (21/1031)
Receiving objects:   3% (31/1031)
Receiving objects:   4% (42/1031)
Receiving objects:   5% (52/1031)
Receiving objects:   6% (62/1031)
Receiving objects:   7% (73/1031)
Receiving objects:   8% (83/1031)
Receiving objects:   9% (93/1031)
Receiving objects:  10% (104/1031)
Receiving objects:  11% (114/1031)
Receiving objects:  12% (124/1031)
Receiving objects:  13% (135/1031)
Receiving objects:  14% (145/1031)
Receiving objects:  15% (155/1031)
Receiving objects:  16% (165/1031)
Receiving objects:  17% (176/1031)
Receiving objects:  18% (186/1031)
Receiving objects:  19% (196/1031)
Receiving objects:  20% (207/1031)
Receiving objects:  21% (217/1031)
Receiving objects:  22% (227/1031)
Receiving objects:  23% (238/1031)
Receiving objects:  24% (248/1031)
Receiving objects:  25% (258/1031)
Receiving objects:  26% (269/1031)
Receiving objects:  27% (279/1031)
Receiving objects:  28% (289/1031)
Receiving objects:  29% (299/1031)
Receiving objects:  30% (310/1031)
Receiving objects:  31% (320/1031)
Receiving objects:  32% (330/1031)
Receiving objects:  33% (341/1031)
Receiving objects:  34% (351/1031)
Receiving objects:  35% (361/1031)
Receiving objects:  36% (372/1031)
Receiving objects:  37% (382/1031)
Receiving objects:  38% (392/1031)
Receiving objects:  39% (403/1031)
Receiving objects:  40% (413/1031)
Receiving objects:  41% (423/1031)
Receiving objects:  42% (434/1031)
Receiving objects:  43% (444/1031)
Receiving objects:  44% (454/1031)
Receiving objects:  45% (464/1031)
Receiving objects:  46% (475/1031)
Receiving objects:  47% (485/1031)
Receiving objects:  48% (495/1031)
Receiving objects:  49% (506/1031)
Receiving objects:  50% (516/1031)
Receiving objects:  51% (526/1031)
Receiving objects:  52% (537/1031)
Receiving objects:  53% (547/1031)
Receiving objects:  54% (557/1031)
Receiving objects:  55% (568/1031)
Receiving objects:  56% (578/1031)
Receiving objects:  57% (588/1031)
Receiving objects:  58% (598/1031)
Receiving objects:  59% (609/1031)
Receiving objects:  60% (619/1031)
Receiving objects:  61% (629/1031)
Receiving objects:  62% (640/1031)
Receiving objects:  63% (650/1031)
Receiving objects:  64% (660/1031)
Receiving objects:  65% (671/1031)
Receiving objects:  66% (681/1031)
Receiving objects:  67% (691/1031)
Receiving objects:  68% (702/1031)
Receiving objects:  69% (712/1031)
Receiving objects:  70% (722/1031)
Receiving objects:  71% (733/1031)
Receiving objects:  72% (743/1031)
Receiving objects:  73% (753/1031)
Receiving objects:  74% (763/1031)
Receiving objects:  75% (774/1031)
Receiving objects:  76% (784/1031)
Receiving objects:  77% (794/1031)
Receiving objects:  78% (805/1031)
Receiving objects:  79% (815/1031)
Receiving objects:  80% (825/1031)
Receiving objects:  81% (836/1031)
Receiving objects:  82% (846/1031)
Receiving objects:  83% (856/1031)
remote: Total 1031 (delta 688), reused 0 (delta 0), pack-reused 50
Receiving objects:  84% (867/1031)
Receiving objects:  85% (877/1031)
Receiving objects:  86% (887/1031)
Receiving objects:  87% (897/1031)
Receiving objects:  88% (908/1031)
Receiving objects:  89% (918/1031)
Receiving objects:  90% (928/1031)
Receiving objects:  91% (939/1031)
Receiving objects:  92% (949/1031)
Receiving objects:  93% (959/1031)
Receiving objects:  94% (970/1031)
Receiving objects:  95% (980/1031)
Receiving objects:  96% (990/1031)
Receiving objects:  97% (1001/1031)
Receiving objects:  98% (1011/1031)
Receiving objects:  99% (1021/1031)
Receiving objects: 100% (1031/1031)
Receiving objects: 100% (1031/1031), 967.75 KiB | 1.90 MiB/s, done.
Resolving deltas:   0% (0/707)
Resolving deltas:   1% (8/707)
Resolving deltas:   2% (15/707)
Resolving deltas:   3% (22/707)
Resolving deltas:   4% (29/707)
Resolving deltas:   5% (36/707)
Resolving deltas:   6% (43/707)
Resolving deltas:   7% (50/707)
Resolving deltas:   8% (57/707)
Resolving deltas:   9% (64/707)
Resolving deltas:  10% (71/707)
Resolving deltas:  11% (78/707)
Resolving deltas:  12% (85/707)
Resolving deltas:  13% (92/707)
Resolving deltas:  14% (99/707)
Resolving deltas:  15% (107/707)
Resolving deltas:  16% (114/707)
Resolving deltas:  17% (121/707)
Resolving deltas:  18% (128/707)
Resolving deltas:  19% (135/707)
Resolving deltas:  20% (142/707)
Resolving deltas:  21% (149/707)
Resolving deltas:  22% (156/707)
Resolving deltas:  23% (163/707)
Resolving deltas:  24% (170/707)
Resolving deltas:  25% (177/707)
Resolving deltas:  26% (184/707)
Resolving deltas:  27% (191/707)
Resolving deltas:  28% (198/707)
Resolving deltas:  29% (206/707)
Resolving deltas:  30% (213/707)
Resolving deltas:  31% (220/707)
Resolving deltas:  32% (227/707)
Resolving deltas:  33% (234/707)
Resolving deltas:  34% (241/707)
Resolving deltas:  35% (248/707)
Resolving deltas:  36% (255/707)
Resolving deltas:  37% (262/707)
Resolving deltas:  38% (269/707)
Resolving deltas:  39% (276/707)
Resolving deltas:  40% (283/707)
Resolving deltas:  41% (290/707)
Resolving deltas:  42% (297/707)
Resolving deltas:  43% (305/707)
Resolving deltas:  44% (312/707)
Resolving deltas:  45% (319/707)
Resolving deltas:  46% (326/707)
Resolving deltas:  47% (333/707)
Resolving deltas:  48% (340/707)
Resolving deltas:  49% (347/707)
Resolving deltas:  50% (354/707)
Resolving deltas:  51% (362/707)
Resolving deltas:  52% (368/707)
Resolving deltas:  53% (375/707)
Resolving deltas:  54% (382/707)
Resolving deltas:  55% (389/707)
Resolving deltas:  56% (396/707)
Resolving deltas:  57% (403/707)
Resolving deltas:  58% (411/707)
Resolving deltas:  59% (418/707)
Resolving deltas:  60% (425/707)
Resolving deltas:  61% (433/707)
Resolving deltas:  62% (439/707)
Resolving deltas:  63% (446/707)
Resolving deltas:  64% (453/707)
Resolving deltas:  65% (460/707)
Resolving deltas:  66% (467/707)
Resolving deltas:  67% (474/707)
Resolving deltas:  68% (481/707)
Resolving deltas:  69% (488/707)
Resolving deltas:  70% (495/707)
Resolving deltas:  71% (502/707)
Resolving deltas:  72% (510/707)
Resolving deltas:  73% (517/707)
Resolving deltas:  74% (524/707)
Resolving deltas:  75% (531/707)
Resolving deltas:  76% (539/707)
Resolving deltas:  77% (545/707)
Resolving deltas:  78% (552/707)
Resolving deltas:  79% (559/707)
Resolving deltas:  80% (566/707)
Resolving deltas:  81% (573/707)
Resolving deltas:  82% (580/707)
Resolving deltas:  83% (587/707)
Resolving deltas:  84% (594/707)
Resolving deltas:  85% (601/707)
Resolving deltas:  86% (609/707)
Resolving deltas:  87% (616/707)
Resolving deltas:  88% (623/707)
Resolving deltas:  89% (630/707)
Resolving deltas:  90% (637/707)
Resolving deltas:  91% (644/707)
Resolving deltas:  92% (652/707)
Resolving deltas:  93% (658/707)
Resolving deltas:  94% (665/707)
Resolving deltas:  95% (672/707)
Resolving deltas:  96% (679/707)
Resolving deltas:  97% (686/707)
Resolving deltas:  98% (693/707)
Resolving deltas:  99% (700/707)
Resolving deltas: 100% (707/707)
Resolving deltas: 100% (707/707), done.
== PIPELINE PREDEPLOY ==
TAG   : DEV000002
EXEC  : execution/machine_list_dev.yml
BRANCH: develop-testes
PLAY [Predeploy a partir do arquivo de execução] *******************************
TASK [Gathering Facts] *********************************************************
ok: [localhost]
TASK [Resolver filestore_env e filestore_base_dir sem recursão] ****************
ok: [localhost]
TASK [Mostrar variáveis de entrada e resolvidas] *******************************
ok: [localhost] => {
    "msg": [
        "execution_file_name_resolved = execution/machine_list_dev.yml",
        "deployment_ref_resolved      = DEV000002",
        "repo_root_resolved           = /tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/..",
        "status_dir_resolved          = /tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../status/DEV000002",
        "filestore_env_resolved       = dev",
        "filestore_base_dir_resolved  = dev/DEV000002",
        "nexus_base_url_resolved      = https://nexus-ci.onefiserv.net/repository/raw-apm0004548-dev"
    ]
}
TASK [Criar diretório de status da TAG] ****************************************
changed: [localhost]
TASK [Carregar arquivo de execução] ********************************************
ok: [localhost]
TASK [Falhar se não tiver máquinas no arquivo de execução] *********************
skipping: [localhost]
TASK [Executar pré-deploy por máquina] *****************************************
included: /tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/predeploy_per_machine.yml for localhost => (item=sitef-02)
TASK [Predeploy | Resolver nome da máquina atual] ******************************
ok: [localhost]
TASK [Predeploy | Validar vars mínimas] ****************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir paths base do repositório] ***************************
ok: [localhost]
TASK [Predeploy | Definir candidatos de arquivo da máquina] ********************
ok: [localhost]
TASK [Predeploy | Verificar candidatos] ****************************************
ok: [localhost] => (item=/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml)
TASK [Predeploy | Selecionar machine_file existente] ***************************
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'ansible_loop_var': 'item'}) 
ok: [localhost] => (item={'changed': False, 'stat': {'exists': True, 'path': '/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'mode': '0640', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 248, 'inode': 2113868, 'dev': 64775, 'nlink': 1, 'atime': 1766610071.7287786, 'mtime': 1766610071.7287786, 'ctime': 1766610071.7287786, 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False, 'blocks': 8, 'block_size': 4096, 'device_type': 0, 'readable': True, 'writeable': True, 'executable': False, 'pw_name': 'ec2-user', 'gr_name': 'ec2-user', 'checksum': '005e3367129d5aefc77f49fd9fe62b4e58c51cd5', 'mimetype': 'text/plain', 'charset': 'us-ascii', 'version': '2194493471', 'attributes': [], 'attr_flags': ''}, 'invocation': {'module_args': {'path': '/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'ansible_loop_var': 'item'})
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
TASK [Predeploy | Falhar se arquivo da máquina não existir] ********************
skipping: [localhost]
TASK [Predeploy | Carregar config da máquina sitef-02] *************************
ok: [localhost]
TASK [Predeploy | Validar package definido] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Carregar config do pacote sitef-core-0.0.1-0] ****************
ok: [localhost]
TASK [Predeploy | Validar components do pacote] ********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Validar script do pacote] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir usuário alvo padrão] *********************************
ok: [localhost]
TASK [Predeploy | Definir ssh_common_args padrão] ******************************
ok: [localhost]
TASK [Predeploy | Aplicar ProxyJump via bastion (quando necessário)] ***********
skipping: [localhost]
TASK [Predeploy | Registrar host dinâmico para sitef-02] ***********************
changed: [localhost]
TASK [Predeploy | Montar env final (package base + machine override)] **********
ok: [localhost]
TASK [Predeploy | Normalizações] ***********************************************
ok: [localhost]
TASK [Predeploy | Gerar run_id] ************************************************
ok: [localhost]
TASK [Predeploy | Definir arquivos/diretórios locais] **************************
ok: [localhost]
TASK [Predeploy | Definir paths lógicos (File Store) SEPARADOS POR STAGE] ******
ok: [localhost]
TASK [Predeploy | Garantir diretório de status local] **************************
changed: [localhost]
TASK [Predeploy | Garantir arquivo pipeline.log (cumulativo local)] ************
changed: [localhost]
TASK [Predeploy | Verificar se status.json já existe] **************************
ok: [localhost]
TASK [Predeploy | Ler status.json existente (se existir)] **********************
skipping: [localhost]
TASK [Predeploy | Parse do status existente (ou base vazio)] *******************
ok: [localhost]
TASK [Predeploy | Escrever status inicial (predeploy:queued) com history append] ***
changed: [localhost]
TASK [Predeploy | Definir diretórios remotos do pipeline] **********************
ok: [localhost]
TASK [Predeploy | Garantir base do pipeline no host] ***************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/components)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts/package)
TASK [Predeploy | Limpar pasta de scripts do pacote] ***************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Recriar pasta de scripts do pacote] **************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Copiar package.yml para o host] ******************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Garantir diretórios dos componentes no host] *****************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Baixar componentes do Nexus] *********************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Copiar scripts do pacote para o host] ************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Executar init_parallel.sh no host (com log + stdout)] ********
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Tail do init_parallel.log (sempre)] **************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Montar conteúdo do log (bloco predeploy)] ********************
ok: [localhost]
TASK [Predeploy | Append do bloco no pipeline.log (controller)] ****************
changed: [localhost]
TASK [Predeploy | Carregar conteúdo completo do pipeline.log (controller)] *****
ok: [localhost]
TASK [Predeploy | Ler status.json atual] ***************************************
ok: [localhost]
TASK [Predeploy | Parse do status atual] ***************************************
ok: [localhost]
TASK [Predeploy | Atualizar status final (append em history)] ******************
changed: [localhost]
TASK [Predeploy | Upload JSON + LOG para Harness File Store (sempre)] **********
included: /tmp/tmp.WAKFIO72Ew/elastic-compute-cloud-sitef/ansible/harness_filestore_upload.yml for localhost
TASK [Harness | Resolver variáveis base via ENV (com fallback)] ****************
ok: [localhost]
TASK [Harness | Definir contexto (deploy/env/stage/machine)] *******************
ok: [localhost]
TASK [Harness | Validar se pode tentar upload] *********************************
ok: [localhost]
TASK [Harness | DEBUG - variáveis principais] **********************************
ok: [localhost] => {
    "msg": [
        "hf_can_upload=True",
        "hf_endpoint=https://harness.onefiserv.net",
        "hf_account=fgDto6qoTT6ctfZS9eWbEw",
        "hf_org=Fiserv",
        "hf_project=sitef",
        "hf_deploy_ref=DEV000002",
        "hf_env=dev",
        "hf_stage=predeploy",
        "hf_machine=sitef-02",
        "hf_parent=Root",
        "pat_len=72"
    ]
}
TASK [Harness | Se não puder upload, só avisar e sair] *************************
skipping: [localhost]
TASK [Harness | Derivar caminhos (status/log) a partir do machine_status_file] ***
fatal: [localhost]: FAILED! => {"msg": "An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: An unhandled exception occurred while templating '{{ machine_status_file }}'. Error was a &lt;class 'ansible.errors.AnsibleError'>, original message: recursive loop detected in template string: {{ machine_status_file }}. maximum recursion depth exceeded while calling a Python object"}
PLAY RECAP *********************************************************************
localhost                  : ok=51   changed=11   unreachable=0    failed=1    skipped=5    rescued=0    ignored=0   
Command finished with status FAILURE
