Exec using JSCH
Connecting to 10.218.238.144 ....
Connection to 10.218.238.144 established
Executing command ...
export GIT_TAG=DEV00001
Clonando repo em /tmp/tmp.7pe87hXBVH...
Cloning into '/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef'...
remote: Enumerating objects: 1098, done.
remote: Counting objects:   0% (1/1048)
remote: Counting objects:   1% (11/1048)
remote: Counting objects:   2% (21/1048)
remote: Counting objects:   3% (32/1048)
remote: Counting objects:   4% (42/1048)
remote: Counting objects:   5% (53/1048)
remote: Counting objects:   6% (63/1048)
remote: Counting objects:   7% (74/1048)
remote: Counting objects:   8% (84/1048)
remote: Counting objects:   9% (95/1048)
remote: Counting objects:  10% (105/1048)
remote: Counting objects:  11% (116/1048)
remote: Counting objects:  12% (126/1048)
remote: Counting objects:  13% (137/1048)
remote: Counting objects:  14% (147/1048)
remote: Counting objects:  15% (158/1048)
remote: Counting objects:  16% (168/1048)
remote: Counting objects:  17% (179/1048)
remote: Counting objects:  18% (189/1048)
remote: Counting objects:  19% (200/1048)
remote: Counting objects:  20% (210/1048)
remote: Counting objects:  21% (221/1048)
remote: Counting objects:  22% (231/1048)
remote: Counting objects:  23% (242/1048)
remote: Counting objects:  24% (252/1048)
remote: Counting objects:  25% (262/1048)
remote: Counting objects:  26% (273/1048)
remote: Counting objects:  27% (283/1048)
remote: Counting objects:  28% (294/1048)
remote: Counting objects:  29% (304/1048)
remote: Counting objects:  30% (315/1048)
remote: Counting objects:  31% (325/1048)
remote: Counting objects:  32% (336/1048)
remote: Counting objects:  33% (346/1048)
remote: Counting objects:  34% (357/1048)
remote: Counting objects:  35% (367/1048)
remote: Counting objects:  36% (378/1048)
remote: Counting objects:  37% (388/1048)
remote: Counting objects:  38% (399/1048)
remote: Counting objects:  39% (409/1048)
remote: Counting objects:  40% (420/1048)
remote: Counting objects:  41% (430/1048)
remote: Counting objects:  42% (441/1048)
remote: Counting objects:  43% (451/1048)
remote: Counting objects:  44% (462/1048)
remote: Counting objects:  45% (472/1048)
remote: Counting objects:  46% (483/1048)
remote: Counting objects:  47% (493/1048)
remote: Counting objects:  48% (504/1048)
remote: Counting objects:  49% (514/1048)
remote: Counting objects:  50% (524/1048)
remote: Counting objects:  51% (535/1048)
remote: Counting objects:  52% (545/1048)
remote: Counting objects:  53% (556/1048)
remote: Counting objects:  54% (566/1048)
remote: Counting objects:  55% (577/1048)
remote: Counting objects:  56% (587/1048)
remote: Counting objects:  57% (598/1048)
remote: Counting objects:  58% (608/1048)
remote: Counting objects:  59% (619/1048)
remote: Counting objects:  60% (629/1048)
remote: Counting objects:  61% (640/1048)
remote: Counting objects:  62% (650/1048)
remote: Counting objects:  63% (661/1048)
remote: Counting objects:  64% (671/1048)
remote: Counting objects:  65% (682/1048)
remote: Counting objects:  66% (692/1048)
remote: Counting objects:  67% (703/1048)
remote: Counting objects:  68% (713/1048)
remote: Counting objects:  69% (724/1048)
remote: Counting objects:  70% (734/1048)
remote: Counting objects:  71% (745/1048)
remote: Counting objects:  72% (755/1048)
remote: Counting objects:  73% (766/1048)
remote: Counting objects:  74% (776/1048)
remote: Counting objects:  75% (786/1048)
remote: Counting objects:  76% (797/1048)
remote: Counting objects:  77% (807/1048)
remote: Counting objects:  78% (818/1048)
remote: Counting objects:  79% (828/1048)
remote: Counting objects:  80% (839/1048)
remote: Counting objects:  81% (849/1048)
remote: Counting objects:  82% (860/1048)
remote: Counting objects:  83% (870/1048)
remote: Counting objects:  84% (881/1048)
remote: Counting objects:  85% (891/1048)
remote: Counting objects:  86% (902/1048)
remote: Counting objects:  87% (912/1048)
remote: Counting objects:  88% (923/1048)
remote: Counting objects:  89% (933/1048)
remote: Counting objects:  90% (944/1048)
remote: Counting objects:  91% (954/1048)
remote: Counting objects:  92% (965/1048)
remote: Counting objects:  93% (975/1048)
remote: Counting objects:  94% (986/1048)
remote: Counting objects:  95% (996/1048)
remote: Counting objects:  96% (1007/1048)
remote: Counting objects:  97% (1017/1048)
remote: Counting objects:  98% (1028/1048)
remote: Counting objects:  99% (1038/1048)
remote: Counting objects: 100% (1048/1048)
remote: Counting objects: 100% (1048/1048), done.
remote: Compressing objects:   0% (1/283)
remote: Compressing objects:   1% (3/283)
remote: Compressing objects:   2% (6/283)
remote: Compressing objects:   3% (9/283)
remote: Compressing objects:   4% (12/283)
remote: Compressing objects:   5% (15/283)
remote: Compressing objects:   6% (17/283)
remote: Compressing objects:   7% (20/283)
remote: Compressing objects:   8% (23/283)
remote: Compressing objects:   9% (26/283)
remote: Compressing objects:  10% (29/283)
remote: Compressing objects:  11% (32/283)
remote: Compressing objects:  12% (34/283)
remote: Compressing objects:  13% (37/283)
remote: Compressing objects:  14% (40/283)
remote: Compressing objects:  15% (43/283)
remote: Compressing objects:  16% (46/283)
remote: Compressing objects:  17% (49/283)
remote: Compressing objects:  18% (51/283)
remote: Compressing objects:  19% (54/283)
remote: Compressing objects:  20% (57/283)
remote: Compressing objects:  21% (60/283)
remote: Compressing objects:  22% (63/283)
remote: Compressing objects:  23% (66/283)
remote: Compressing objects:  24% (68/283)
remote: Compressing objects:  25% (71/283)
remote: Compressing objects:  26% (74/283)
remote: Compressing objects:  27% (77/283)
remote: Compressing objects:  28% (80/283)
remote: Compressing objects:  29% (83/283)
remote: Compressing objects:  30% (85/283)
remote: Compressing objects:  31% (88/283)
remote: Compressing objects:  32% (91/283)
remote: Compressing objects:  33% (94/283)
remote: Compressing objects:  34% (97/283)
remote: Compressing objects:  35% (100/283)
remote: Compressing objects:  36% (102/283)
remote: Compressing objects:  37% (105/283)
remote: Compressing objects:  38% (108/283)
remote: Compressing objects:  39% (111/283)
remote: Compressing objects:  40% (114/283)
remote: Compressing objects:  41% (117/283)
remote: Compressing objects:  42% (119/283)
remote: Compressing objects:  43% (122/283)
remote: Compressing objects:  44% (125/283)
remote: Compressing objects:  45% (128/283)
remote: Compressing objects:  46% (131/283)
remote: Compressing objects:  47% (134/283)
remote: Compressing objects:  48% (136/283)
remote: Compressing objects:  49% (139/283)
remote: Compressing objects:  50% (142/283)
remote: Compressing objects:  51% (145/283)
remote: Compressing objects:  52% (148/283)
remote: Compressing objects:  53% (150/283)
remote: Compressing objects:  54% (153/283)
remote: Compressing objects:  55% (156/283)
remote: Compressing objects:  56% (159/283)
remote: Compressing objects:  57% (162/283)
remote: Compressing objects:  58% (165/283)
remote: Compressing objects:  59% (167/283)
remote: Compressing objects:  60% (170/283)
remote: Compressing objects:  61% (173/283)
remote: Compressing objects:  62% (176/283)
remote: Compressing objects:  63% (179/283)
remote: Compressing objects:  64% (182/283)
remote: Compressing objects:  65% (184/283)
remote: Compressing objects:  66% (187/283)
remote: Compressing objects:  67% (190/283)
remote: Compressing objects:  68% (193/283)
remote: Compressing objects:  69% (196/283)
remote: Compressing objects:  70% (199/283)
remote: Compressing objects:  71% (201/283)
remote: Compressing objects:  72% (204/283)
remote: Compressing objects:  73% (207/283)
remote: Compressing objects:  74% (210/283)
remote: Compressing objects:  75% (213/283)
remote: Compressing objects:  76% (216/283)
remote: Compressing objects:  77% (218/283)
remote: Compressing objects:  78% (221/283)
remote: Compressing objects:  79% (224/283)
remote: Compressing objects:  80% (227/283)
remote: Compressing objects:  81% (230/283)
remote: Compressing objects:  82% (233/283)
remote: Compressing objects:  83% (235/283)
remote: Compressing objects:  84% (238/283)
remote: Compressing objects:  85% (241/283)
remote: Compressing objects:  86% (244/283)
remote: Compressing objects:  87% (247/283)
remote: Compressing objects:  88% (250/283)
remote: Compressing objects:  89% (252/283)
remote: Compressing objects:  90% (255/283)
remote: Compressing objects:  91% (258/283)
remote: Compressing objects:  92% (261/283)
remote: Compressing objects:  93% (264/283)
remote: Compressing objects:  94% (267/283)
remote: Compressing objects:  95% (269/283)
remote: Compressing objects:  96% (272/283)
remote: Compressing objects:  97% (275/283)
remote: Compressing objects:  98% (278/283)
remote: Compressing objects:  99% (281/283)
remote: Compressing objects: 100% (283/283)
remote: Compressing objects: 100% (283/283), done.
Receiving objects:   0% (1/1098)
Receiving objects:   1% (11/1098)
Receiving objects:   2% (22/1098)
Receiving objects:   3% (33/1098)
Receiving objects:   4% (44/1098)
Receiving objects:   5% (55/1098)
Receiving objects:   6% (66/1098)
Receiving objects:   7% (77/1098)
Receiving objects:   8% (88/1098)
Receiving objects:   9% (99/1098)
Receiving objects:  10% (110/1098)
Receiving objects:  11% (121/1098)
Receiving objects:  12% (132/1098)
Receiving objects:  13% (143/1098)
Receiving objects:  14% (154/1098)
Receiving objects:  15% (165/1098)
Receiving objects:  16% (176/1098)
Receiving objects:  17% (187/1098)
Receiving objects:  18% (198/1098)
Receiving objects:  19% (209/1098)
Receiving objects:  20% (220/1098)
Receiving objects:  21% (231/1098)
Receiving objects:  22% (242/1098)
Receiving objects:  23% (253/1098)
Receiving objects:  24% (264/1098)
Receiving objects:  25% (275/1098)
Receiving objects:  26% (286/1098)
Receiving objects:  27% (297/1098)
Receiving objects:  28% (308/1098)
Receiving objects:  29% (319/1098)
Receiving objects:  30% (330/1098)
Receiving objects:  31% (341/1098)
Receiving objects:  32% (352/1098)
Receiving objects:  33% (363/1098)
Receiving objects:  34% (374/1098)
Receiving objects:  35% (385/1098)
Receiving objects:  36% (396/1098)
Receiving objects:  37% (407/1098)
Receiving objects:  38% (418/1098)
Receiving objects:  39% (429/1098)
Receiving objects:  40% (440/1098)
Receiving objects:  41% (451/1098)
Receiving objects:  42% (462/1098)
Receiving objects:  43% (473/1098)
Receiving objects:  44% (484/1098)
Receiving objects:  45% (495/1098)
Receiving objects:  46% (506/1098)
Receiving objects:  47% (517/1098)
Receiving objects:  48% (528/1098)
Receiving objects:  49% (539/1098)
Receiving objects:  50% (549/1098)
Receiving objects:  51% (560/1098)
Receiving objects:  52% (571/1098)
Receiving objects:  53% (582/1098)
Receiving objects:  54% (593/1098)
Receiving objects:  55% (604/1098)
Receiving objects:  56% (615/1098)
Receiving objects:  57% (626/1098)
Receiving objects:  58% (637/1098)
Receiving objects:  59% (648/1098)
Receiving objects:  60% (659/1098)
Receiving objects:  61% (670/1098)
Receiving objects:  62% (681/1098)
Receiving objects:  63% (692/1098)
Receiving objects:  64% (703/1098)
Receiving objects:  65% (714/1098)
Receiving objects:  66% (725/1098)
Receiving objects:  67% (736/1098)
Receiving objects:  68% (747/1098)
Receiving objects:  69% (758/1098)
Receiving objects:  70% (769/1098)
Receiving objects:  71% (780/1098)
Receiving objects:  72% (791/1098)
Receiving objects:  73% (802/1098)
Receiving objects:  74% (813/1098)
Receiving objects:  75% (824/1098)
Receiving objects:  76% (835/1098)
Receiving objects:  77% (846/1098)
Receiving objects:  78% (857/1098)
Receiving objects:  79% (868/1098)
Receiving objects:  80% (879/1098)
Receiving objects:  81% (890/1098)
Receiving objects:  82% (901/1098)
Receiving objects:  83% (912/1098)
Receiving objects:  84% (923/1098)
remote: Total 1098 (delta 759), reused 1035 (delta 750), pack-reused 50
Receiving objects:  85% (934/1098)
Receiving objects:  86% (945/1098)
Receiving objects:  87% (956/1098)
Receiving objects:  88% (967/1098)
Receiving objects:  89% (978/1098)
Receiving objects:  90% (989/1098)
Receiving objects:  91% (1000/1098)
Receiving objects:  92% (1011/1098)
Receiving objects:  93% (1022/1098)
Receiving objects:  94% (1033/1098)
Receiving objects:  95% (1044/1098)
Receiving objects:  96% (1055/1098)
Receiving objects:  97% (1066/1098)
Receiving objects:  98% (1077/1098)
Receiving objects:  99% (1088/1098)
Receiving objects: 100% (1098/1098)
Receiving objects: 100% (1098/1098), 983.02 KiB | 2.59 MiB/s, done.
Resolving deltas:   0% (0/778)
Resolving deltas:   1% (8/778)
Resolving deltas:   2% (16/778)
Resolving deltas:   3% (24/778)
Resolving deltas:   4% (32/778)
Resolving deltas:   5% (39/778)
Resolving deltas:   6% (47/778)
Resolving deltas:   7% (55/778)
Resolving deltas:   8% (63/778)
Resolving deltas:   9% (71/778)
Resolving deltas:  10% (78/778)
Resolving deltas:  11% (86/778)
Resolving deltas:  12% (94/778)
Resolving deltas:  13% (102/778)
Resolving deltas:  14% (109/778)
Resolving deltas:  15% (117/778)
Resolving deltas:  16% (125/778)
Resolving deltas:  17% (133/778)
Resolving deltas:  18% (141/778)
Resolving deltas:  19% (148/778)
Resolving deltas:  20% (156/778)
Resolving deltas:  21% (164/778)
Resolving deltas:  22% (172/778)
Resolving deltas:  23% (179/778)
Resolving deltas:  24% (187/778)
Resolving deltas:  25% (195/778)
Resolving deltas:  26% (203/778)
Resolving deltas:  27% (211/778)
Resolving deltas:  28% (218/778)
Resolving deltas:  29% (226/778)
Resolving deltas:  30% (234/778)
Resolving deltas:  31% (242/778)
Resolving deltas:  32% (249/778)
Resolving deltas:  33% (257/778)
Resolving deltas:  34% (265/778)
Resolving deltas:  35% (273/778)
Resolving deltas:  36% (281/778)
Resolving deltas:  37% (288/778)
Resolving deltas:  38% (296/778)
Resolving deltas:  39% (304/778)
Resolving deltas:  40% (312/778)
Resolving deltas:  41% (319/778)
Resolving deltas:  42% (327/778)
Resolving deltas:  43% (335/778)
Resolving deltas:  44% (343/778)
Resolving deltas:  45% (351/778)
Resolving deltas:  46% (358/778)
Resolving deltas:  47% (366/778)
Resolving deltas:  48% (374/778)
Resolving deltas:  49% (382/778)
Resolving deltas:  50% (389/778)
Resolving deltas:  51% (397/778)
Resolving deltas:  52% (405/778)
Resolving deltas:  53% (413/778)
Resolving deltas:  54% (421/778)
Resolving deltas:  55% (428/778)
Resolving deltas:  56% (436/778)
Resolving deltas:  57% (444/778)
Resolving deltas:  58% (452/778)
Resolving deltas:  59% (460/778)
Resolving deltas:  60% (467/778)
Resolving deltas:  61% (475/778)
Resolving deltas:  62% (483/778)
Resolving deltas:  63% (491/778)
Resolving deltas:  64% (498/778)
Resolving deltas:  65% (506/778)
Resolving deltas:  66% (514/778)
Resolving deltas:  67% (522/778)
Resolving deltas:  68% (530/778)
Resolving deltas:  69% (537/778)
Resolving deltas:  70% (545/778)
Resolving deltas:  71% (553/778)
Resolving deltas:  72% (561/778)
Resolving deltas:  73% (568/778)
Resolving deltas:  74% (576/778)
Resolving deltas:  75% (584/778)
Resolving deltas:  76% (592/778)
Resolving deltas:  77% (600/778)
Resolving deltas:  78% (607/778)
Resolving deltas:  79% (615/778)
Resolving deltas:  80% (623/778)
Resolving deltas:  81% (631/778)
Resolving deltas:  82% (638/778)
Resolving deltas:  83% (646/778)
Resolving deltas:  84% (654/778)
Resolving deltas:  85% (662/778)
Resolving deltas:  86% (670/778)
Resolving deltas:  87% (677/778)
Resolving deltas:  88% (685/778)
Resolving deltas:  89% (693/778)
Resolving deltas:  90% (701/778)
Resolving deltas:  91% (708/778)
Resolving deltas:  92% (716/778)
Resolving deltas:  93% (724/778)
Resolving deltas:  94% (732/778)
Resolving deltas:  95% (740/778)
Resolving deltas:  96% (747/778)
Resolving deltas:  97% (755/778)
Resolving deltas:  98% (763/778)
Resolving deltas:  99% (771/778)
Resolving deltas: 100% (778/778)
Resolving deltas: 100% (778/778), done.
== PIPELINE PREDEPLOY ==
TAG   : DEV00001
EXEC  : execution/machine_list_dev.yml
BRANCH: develop-testes
PLAY [Predeploy a partir do arquivo de execução] *******************************
TASK [Gathering Facts] *********************************************************
ok: [localhost]
TASK [Resolver filestore_env e filestore_base_dir sem recursão] ****************
ok: [localhost]
TASK [Mostrar variáveis de entrada e resolvidas] *******************************
ok: [localhost] => {
    "msg": [
        "execution_file_name_resolved = execution/machine_list_dev.yml",
        "deployment_ref_resolved      = DEV00001",
        "repo_root_resolved           = /tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/..",
        "status_dir_resolved          = /tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../status/DEV00001",
        "filestore_env_resolved       = dev",
        "filestore_base_dir_resolved  = dev/DEV00001",
        "nexus_base_url_resolved      = https://nexus-ci.onefiserv.net/repository/raw-apm0004548-dev"
    ]
}
TASK [Criar diretório de status da TAG] ****************************************
changed: [localhost]
TASK [Carregar arquivo de execução] ********************************************
ok: [localhost]
TASK [Falhar se não tiver máquinas no arquivo de execução] *********************
skipping: [localhost]
TASK [Executar pré-deploy por máquina] *****************************************
included: /tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/predeploy_per_machine.yml for localhost => (item=sitef-02)
TASK [Predeploy | Resolver nome da máquina atual] ******************************
ok: [localhost]
TASK [Predeploy | Validar vars mínimas] ****************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir paths base do repositório] ***************************
ok: [localhost]
TASK [Predeploy | Definir candidatos de arquivo da máquina] ********************
ok: [localhost]
TASK [Predeploy | Verificar candidatos] ****************************************
ok: [localhost] => (item=/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml)
ok: [localhost] => (item=/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml)
TASK [Predeploy | Selecionar machine_file existente] ***************************
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../execution/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../execution/sitef-02.yml', 'ansible_loop_var': 'item'}) 
ok: [localhost] => (item={'changed': False, 'stat': {'exists': True, 'path': '/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'mode': '0640', 'isdir': False, 'ischr': False, 'isblk': False, 'isreg': True, 'isfifo': False, 'islnk': False, 'issock': False, 'uid': 1000, 'gid': 1000, 'size': 248, 'inode': 2113891, 'dev': 64775, 'nlink': 1, 'atime': 1766706991.509626, 'mtime': 1766706991.508626, 'ctime': 1766706991.508626, 'wusr': True, 'rusr': True, 'xusr': False, 'wgrp': False, 'rgrp': True, 'xgrp': False, 'woth': False, 'roth': False, 'xoth': False, 'isuid': False, 'isgid': False, 'blocks': 8, 'block_size': 4096, 'device_type': 0, 'readable': True, 'writeable': True, 'executable': False, 'pw_name': 'ec2-user', 'gr_name': 'ec2-user', 'checksum': '005e3367129d5aefc77f49fd9fe62b4e58c51cd5', 'mimetype': 'text/plain', 'charset': 'us-ascii', 'version': '2493989522', 'attributes': [], 'attr_flags': ''}, 'invocation': {'module_args': {'path': '/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../machines/sitef-02.yml', 'ansible_loop_var': 'item'})
skipping: [localhost] => (item={'changed': False, 'stat': {'exists': False}, 'invocation': {'module_args': {'path': '/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'follow': False, 'get_md5': False, 'get_checksum': True, 'get_mime': True, 'get_attributes': True, 'checksum_algorithm': 'sha1'}}, 'failed': False, 'item': '/tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/../inventory/machines/sitef-02.yml', 'ansible_loop_var': 'item'}) 
TASK [Predeploy | Falhar se arquivo da máquina não existir] ********************
skipping: [localhost]
TASK [Predeploy | Carregar config da máquina sitef-02] *************************
ok: [localhost]
TASK [Predeploy | Validar package definido] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Carregar config do pacote sitef-core-0.0.1-0] ****************
ok: [localhost]
TASK [Predeploy | Validar components do pacote] ********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Validar script do pacote] ************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Predeploy | Definir usuário alvo padrão] *********************************
ok: [localhost]
TASK [Predeploy | Definir ssh_common_args padrão] ******************************
ok: [localhost]
TASK [Predeploy | Aplicar ProxyJump via bastion (quando necessário)] ***********
skipping: [localhost]
TASK [Predeploy | Registrar host dinâmico para sitef-02] ***********************
changed: [localhost]
TASK [Predeploy | Montar env final (package base + machine override)] **********
ok: [localhost]
TASK [Predeploy | Normalizações] ***********************************************
ok: [localhost]
TASK [Predeploy | Gerar run_id] ************************************************
ok: [localhost]
TASK [Predeploy | Definir arquivos/diretórios locais] **************************
ok: [localhost]
TASK [Predeploy | Definir paths lógicos (File Store) SEPARADOS POR STAGE] ******
ok: [localhost]
TASK [Predeploy | Garantir diretório de status local] **************************
changed: [localhost]
TASK [Predeploy | Garantir arquivo pipeline.log (cumulativo local)] ************
changed: [localhost]
TASK [Predeploy | Verificar se status.json já existe] **************************
ok: [localhost]
TASK [Predeploy | Ler status.json existente (se existir)] **********************
skipping: [localhost]
TASK [Predeploy | Parse do status existente (ou base vazio)] *******************
ok: [localhost]
TASK [Predeploy | Escrever status inicial (predeploy:queued) com history append] ***
changed: [localhost]
TASK [Predeploy | Definir diretórios remotos do pipeline] **********************
ok: [localhost]
TASK [Predeploy | Garantir base do pipeline no host] ***************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/components)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts)
ok: [localhost -> sitef-02(100.99.57.128)] => (item=/opt/SoftwareExpress/sitef-pipeline/deploy/scripts/package)
TASK [Predeploy | Limpar pasta de scripts do pacote] ***************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Recriar pasta de scripts do pacote] **************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Copiar package.yml para o host] ******************************
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Garantir diretórios dos componentes no host] *****************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Baixar componentes do Nexus] *********************************
ok: [localhost -> sitef-02(100.99.57.128)] => (item=packages/linux/sitef-core-0.0.1-0.x86_64.rpm)
TASK [Predeploy | Copiar scripts do pacote para o host] ************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Executar init_parallel.sh no host (com log + stdout)] ********
changed: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Tail do init_parallel.log (sempre)] **************************
ok: [localhost -> sitef-02(100.99.57.128)]
TASK [Predeploy | Montar conteúdo do log (bloco predeploy)] ********************
ok: [localhost]
TASK [Predeploy | Append do bloco no pipeline.log (controller)] ****************
changed: [localhost]
TASK [Predeploy | Carregar conteúdo completo do pipeline.log (controller)] *****
ok: [localhost]
TASK [Predeploy | Ler status.json atual] ***************************************
ok: [localhost]
TASK [Predeploy | Parse do status atual] ***************************************
ok: [localhost]
TASK [Predeploy | Atualizar status final (append em history)] ******************
changed: [localhost]
TASK [Predeploy | Definir status_tag_value (tag usada no File Store)] **********
ok: [localhost]
TASK [Predeploy | Upload JSON + LOG para Harness File Store (sempre)] **********
included: /tmp/tmp.7pe87hXBVH/elastic-compute-cloud-sitef/ansible/harness_filestore_upload.yml for localhost
TASK [Harness | Validar vars mínimas] ******************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Harness | Definir defaults + normalizações (parte 1)] ********************
ok: [localhost]
TASK [Harness | Definir stage_label (parte 2)] *********************************
ok: [localhost]
TASK [Harness | Identifiers SAFE (HARNESS RULE: [A-Za-z][A-Za-z0-9_]{0,127})] ***
ok: [localhost]
TASK [Harness | Limitar machine_stage_identifier a 128 (se precisar)] **********
ok: [localhost]
TASK [Harness | Resolver token (vars > env)] ***********************************
ok: [localhost]
TASK [Harness | Debug seguro do token (não mostra valor)] **********************
ok: [localhost] => {
    "msg": "Harness token presente? True (len=72)"
}
TASK [Harness | Falhar se token vazio] *****************************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Harness | Map token para header x-api-key (sem recursão)] ****************
ok: [localhost]
TASK [Harness | Alias para o header usado nos curls] ***************************
ok: [localhost]
TASK [Harness | Falhar se token vazio (upload)] ********************************
ok: [localhost] => {
    "changed": false,
    "msg": "All assertions passed"
}
TASK [Harness | Montar tags base] **********************************************
ok: [localhost]
TASK [Harness | Adicionar extra_tags como tag=...] *****************************
skipping: [localhost]
TASK [Harness | Definir http_codes aceitos] ************************************
ok: [localhost]
TASK [Harness | Render tags JSON] **********************************************
ok: [localhost]
TASK [Harness | Garantir folder ENV (POST)] ************************************
ok: [localhost]
TASK [Harness | Ler body ENV (sempre)] *****************************************
ok: [localhost]
TASK [Harness | Detectar DUPLICATE_FIELD ENV] **********************************
ok: [localhost]
TASK [Harness | Resolver identifier real do ENV (quando já existe por name)] ***
skipping: [localhost]
TASK [Harness | Parse children do Root] ****************************************
skipping: [localhost]
TASK [Harness | Extrair identifier existente do ENV] ***************************
skipping: [localhost]
TASK [Harness | Definir ENV identifier final (criado ou existente)] ************
ok: [localhost]
TASK [Harness | Falhar ENV se não for OK e não for DUPLICATE_FIELD] ************
fatal: [localhost]: FAILED! => {"changed": false, "msg": "Falha ao criar/garantir folder ENV no Harness.\nhttp_code=400\nbody={\"status\":\"ERROR\",\"code\":\"DUPLICATE_FIELD\",\"message\":\"Try another name, folder with name [dev] already exists in the parent folder [Root].\",\"correlationId\":\"eb3b34a4-c05d-40a2-a35c-30aa9da4c081\",\"detailedMessage\":null,\"responseMessages\":[{\"code\":\"DUPLICATE_FIELD\",\"level\":\"ERROR\",\"message\":\"Try another name, folder with name [dev] already exists in the parent folder [Root].\",\"exception\":null,\"failureTypes\":[],\"additionalInfo\":{}}],\"metadata\":null}\n"}
PLAY RECAP *********************************************************************
localhost                  : ok=66   changed=11   unreachable=0    failed=1    skipped=8    rescued=0    ignored=0   
Command finished with status FAILURE
